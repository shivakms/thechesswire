(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9319],{93:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var i=a(3049),s=a(4205),l=a(5729),r=a(4734),n=a(5185),c=a(6038),o=a(1262),d=a(9332),h=a(9283),m=a(3133),x=a(480),u=a(5687),p=a(4441),g=a(4269),b=a(599);function w(){let[e,t]=(0,s.useState)(new r.d$),[a,w]=(0,s.useState)(0),[y,v]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(null),[A,S]=(0,s.useState)(!1),[C,P]=(0,s.useState)(0),[T,E]=(0,s.useState)("dramatic"),{playNarration:L,stopNarration:H,isLoading:M}=(0,b.g)(),U=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=setTimeout(()=>{L("Welcome to SoulCinema, where chess games transform into epic cinematic experiences. Upload your game and watch it come alive with dramatic narration, visual effects, and emotional storytelling.","dramatic")},1e3);return()=>{clearTimeout(e),H()}},[L,H]),(0,s.useEffect)(()=>(y&&N?U.current=setInterval(()=>{a<N.scenes.length-1?(w(e=>e+1),G(N.scenes[a+1])):(v(!1),L("Cinematic experience complete! What a journey through the 64 squares.","epic"))},3e3):U.current&&clearInterval(U.current),()=>{U.current&&clearInterval(U.current)}),[y,a,N,L]);let R=async e=>{var a;let i=null==(a=e.target.files)?void 0:a[0];if(i){S(!0);try{let e=await i.text(),a=new r.d$;a.loadPgn(e);let s=await V(a),l={id:Date.now().toString(),title:"".concat(a.header("White")," vs ").concat(a.header("Black")," - Cinematic"),description:"A cinematic retelling of ".concat(a.header("Event")||"this epic battle"),duration:3*s.length,scenes:s,thumbnail:"/api/placeholder/400/300",views:0,likes:0,createdAt:new Date().toISOString().split("T")[0]};k(l),t(a),w(0),L("Cinematic game created! ".concat(s.length," scenes ready for your viewing pleasure."),"dramatic")}catch(e){console.error("Error loading PGN:",e),L("Sorry, I couldn't create a cinematic experience from that file. Please try again.","calm")}finally{S(!1)}}},V=async e=>{j(!0),P(0);let t=e.history({verbose:!0}),a=[];for(let e=0;e<t.length;e++){let i=t[e],s=new r.d$;for(let a=0;a<=e;a++)s.move(t[a]);let l={id:"scene-".concat(e),moveNumber:e+1,fen:s.fen(),narration:F(i,e,t.length),visualEffect:I(e,t.length),cameraAngle:O(e,t.length),music:q(e,t.length)};a.push(l),P((e+1)/t.length*100),await new Promise(e=>setTimeout(e,100))}return j(!1),a},F=(e,t,a)=>{let i=["The tension builds as the pieces dance across the board.","A tactical shot that changes the course of the game.","Strategic depth revealed in this masterful move.","The position explodes with tactical possibilities.","A defensive resource that maintains the balance.","Initiative seized with this aggressive continuation.","The endgame approaches with careful calculation.","A brilliant combination unfolds before our eyes.","The battle reaches its dramatic climax.","Victory secured with this final masterstroke."];return i[t%i.length]},I=(e,t)=>e<.2*t?"strategic":e<.6*t?"tactical":e<.8*t?"dramatic":"emotional",O=(e,t)=>{let a=["overhead","close-up","wide","dramatic"];return a[e%a.length]},q=(e,t)=>e<.3*t?"epic":e<.7*t?"tension":e<.9*t?"victory":"defeat",G=e=>{t(new r.d$(e.fen)),L(e.narration,"dramatic")},_=async()=>{if(N){j(!0),P(0);for(let e=0;e<=100;e+=10)P(e),await new Promise(e=>setTimeout(e,200));j(!1),L("Cinematic video generated successfully! Ready for download and sharing.","epic")}};return(0,i.jsx)("div",{className:"min-h-screen chess-gradient-dark",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,i.jsxs)(l.P.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,i.jsx)("div",{className:"flex justify-center mb-4",children:(0,i.jsx)(l.P.div,{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center glow-effect",animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:(0,i.jsx)(c.A,{className:"w-8 h-8 text-white"})})}),(0,i.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"SoulCinema"}),(0,i.jsx)("p",{className:"text-xl text-gray-300",children:"Transform your games into cinematic experiences"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,i.jsx)(l.P.div,{className:"lg:col-span-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,i.jsxs)("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Cinematic"}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload PGN for Cinematic"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"file",accept:".pgn",onChange:R,className:"hidden",id:"cinematic-upload",disabled:A}),(0,i.jsxs)("label",{htmlFor:"cinematic-upload",className:"flex items-center justify-center w-full px-4 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-lg cursor-pointer hover:from-orange-600 hover:to-red-700 transition-all duration-200",children:[(0,i.jsx)(o.A,{className:"w-5 h-5 mr-2"}),A?"Creating Cinematic...":"Choose PGN File"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Featured Cinematics"}),(0,i.jsx)("div",{className:"space-y-3",children:[{id:"1",title:"The Immortal Game - Cinematic Edition",description:"A dramatic retelling of Anderssen vs Kieseritzky with epic narration and visual effects",duration:180,scenes:[],thumbnail:"/api/placeholder/400/300",views:15420,likes:892,createdAt:"2024-01-15"},{id:"2",title:"Magnus vs Hikaru - Battle of Titans",description:"The 2024 Candidates clash with cinematic storytelling and emotional depth",duration:240,scenes:[],thumbnail:"/api/placeholder/400/300",views:8920,likes:567,createdAt:"2024-04-10"}].map(e=>(0,i.jsxs)(l.P.button,{onClick:()=>{k(e),t(new r.d$),w(0),L("Loading ".concat(e.title,". Prepare for an epic cinematic journey."),"dramatic")},className:"w-full text-left p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsx)("div",{className:"font-semibold text-white",children:e.title}),(0,i.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,i.jsxs)("span",{children:[e.duration,"s"]}),(0,i.jsxs)("span",{children:[e.views," views"]}),(0,i.jsxs)("span",{children:[e.likes," likes"]})]})]},e.id))})]})]})}),(0,i.jsx)(l.P.div,{className:"lg:col-span-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,i.jsx)("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:N?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:N.title}),(0,i.jsx)("div",{className:"text-gray-300 mb-2",children:N.description}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[(0,i.jsxs)("span",{children:[N.duration,"s"]}),(0,i.jsxs)("span",{children:[N.scenes.length," scenes"]}),(0,i.jsxs)("span",{children:[N.views," views"]}),(0,i.jsxs)("span",{children:[N.likes," likes"]})]})]}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(n.Ve,{position:e.fen(),boardWidth:400,customBoardStyle:{borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"}}),N.scenes[a]&&(0,i.jsxs)(l.P.div,{className:"absolute top-4 left-4 bg-black/70 backdrop-blur-sm rounded-lg p-3 text-white",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[(0,i.jsxs)("div",{className:"text-sm font-semibold",children:["Scene ",a+1," of ",N.scenes.length]}),(0,i.jsxs)("div",{className:"text-xs text-gray-300",children:[N.scenes[a].visualEffect," â€¢ ",N.scenes[a].cameraAngle]})]})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[(0,i.jsx)(l.P.button,{onClick:()=>w(Math.max(0,a-1)),className:"p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,i.jsx)(d.A,{className:"w-5 h-5 text-white"})}),(0,i.jsx)(l.P.button,{onClick:()=>{y?v(!1):(v(!0),N&&N.scenes[a]&&G(N.scenes[a]))},className:"p-4 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},children:y?(0,i.jsx)(h.A,{className:"w-6 h-6 text-white"}):(0,i.jsx)(m.A,{className:"w-6 h-6 text-white"})}),(0,i.jsx)(l.P.button,{onClick:()=>w(Math.min(N.scenes.length-1,a+1)),className:"p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,i.jsx)(x.A,{className:"w-5 h-5 text-white"})})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm text-gray-300 mb-2",children:[(0,i.jsxs)("span",{children:["Scene ",a+1," of ",N.scenes.length]}),(0,i.jsxs)("span",{children:[Math.round((a+1)/N.scenes.length*100),"%"]})]}),(0,i.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,i.jsx)(l.P.div,{className:"bg-gradient-to-r from-orange-500 to-red-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((a+1)/N.scenes.length*100,"%")},transition:{duration:.5}})})]}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)(l.P.button,{onClick:_,disabled:f,className:"flex-1 flex items-center justify-center px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsx)(c.A,{className:"w-5 h-5 mr-2"}),f?"Generating... ".concat(C,"%"):"Generate Video"]}),(0,i.jsx)(l.P.button,{className:"px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(u.A,{className:"w-5 h-5 text-white"})}),(0,i.jsx)(l.P.button,{className:"px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(p.A,{className:"w-5 h-5 text-white"})}),(0,i.jsx)(l.P.button,{className:"px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(g.A,{className:"w-5 h-5 text-white"})})]})]}):(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)(c.A,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No Cinematic Selected"}),(0,i.jsx)("p",{className:"text-gray-500",children:"Upload a PGN file or select a sample cinematic to begin"})]})})})]}),(0,i.jsx)(l.P.div,{className:"mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,i.jsxs)("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Cinematic Settings"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cinematic Style"}),(0,i.jsxs)("select",{value:T,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-orange-500",children:[(0,i.jsx)("option",{value:"epic",children:"Epic"}),(0,i.jsx)("option",{value:"dramatic",children:"Dramatic"}),(0,i.jsx)("option",{value:"analytical",children:"Analytical"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scene Duration"}),(0,i.jsxs)("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-orange-500",children:[(0,i.jsx)("option",{value:"2",children:"2 seconds"}),(0,i.jsx)("option",{value:"3",children:"3 seconds"}),(0,i.jsx)("option",{value:"5",children:"5 seconds"}),(0,i.jsx)("option",{value:"8",children:"8 seconds"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Visual Effects"}),(0,i.jsxs)("button",{className:"w-full px-3 py-2 bg-gradient-to-r from-orange-500/20 to-red-500/20 border border-orange-500/50 text-orange-300 rounded-lg",children:[(0,i.jsx)(x.A,{className:"w-4 h-4 inline mr-2"}),"Enhanced"]})]})]})]})})]})})}},480:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},599:(e,t,a)=>{"use strict";a.d(t,{g:()=>l});var i=a(4205),s=a(6693);function l(){let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[r,n]=(0,i.useState)(null);return{playNarration:(0,i.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"calm";try{t(!0),l(!1),r&&(r.pause(),r.currentTime=0);let i=await fetch("/api/voice/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,voiceMode:a,voiceId:"PmypFHWgqk9ACZdL8ugT"})});if(!i.ok)throw Error("Failed to generate voice narration");let c=await i.blob(),o=URL.createObjectURL(c),d=new Audio(o);d.volume=.7,d.addEventListener("ended",()=>{l(!1),URL.revokeObjectURL(o)}),d.addEventListener("error",e=>{console.error("Audio playback error:",e),l(!1),t(!1),s.Ay.error("Failed to play voice narration"),URL.revokeObjectURL(o)}),n(d),await d.play(),l(!0),t(!1)}catch(a){if(console.error("Voice narration error:",a),t(!1),l(!1),s.Ay.error("Failed to generate voice narration"),"speechSynthesis"in window){let t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1.1,t.volume=.7,t.onstart=()=>l(!0),t.onend=()=>l(!1),t.onerror=()=>{l(!1),s.Ay.error("Voice narration failed")},speechSynthesis.speak(t)}}},[r]),stopNarration:(0,i.useCallback)(()=>{r&&(r.pause(),r.currentTime=0,l(!1)),"speechSynthesis"in window&&(speechSynthesis.cancel(),l(!1))},[r]),isLoading:e,isPlaying:a}}},4269:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4441:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},5687:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6038:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},8250:(e,t,a)=>{Promise.resolve().then(a.bind(a,93))},9332:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])}},e=>{e.O(0,[8895,1327,6693,8563,6562,8036,7358],()=>e(e.s=8250)),_N_E=e.O()}]);