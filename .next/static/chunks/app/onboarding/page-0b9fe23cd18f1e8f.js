(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566],{599:(e,t,s)=>{"use strict";s.d(t,{g:()=>r});var i=s(4205),a=s(6693);function r(){let[e,t]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(null);return{playNarration:(0,i.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"calm";try{t(!0),r(!1),n&&(n.pause(),n.currentTime=0);let i=await fetch("/api/voice/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,voiceMode:s,voiceId:"PmypFHWgqk9ACZdL8ugT"})});if(!i.ok)throw Error("Failed to generate voice narration");let o=await i.blob(),c=URL.createObjectURL(o),d=new Audio(c);d.volume=.7,d.addEventListener("ended",()=>{r(!1),URL.revokeObjectURL(c)}),d.addEventListener("error",e=>{console.error("Audio playback error:",e),r(!1),t(!1),a.Ay.error("Failed to play voice narration"),URL.revokeObjectURL(c)}),l(d),await d.play(),r(!0),t(!1)}catch(s){if(console.error("Voice narration error:",s),t(!1),r(!1),a.Ay.error("Failed to generate voice narration"),"speechSynthesis"in window){let t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1.1,t.volume=.7,t.onstart=()=>r(!0),t.onend=()=>r(!1),t.onerror=()=>{r(!1),a.Ay.error("Voice narration failed")},speechSynthesis.speak(t)}}},[n]),stopNarration:(0,i.useCallback)(()=>{n&&(n.pause(),n.currentTime=0,r(!1)),"speechSynthesis"in window&&(speechSynthesis.cancel(),r(!1))},[n]),isLoading:e,isPlaying:s}}},895:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(219).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},1709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var i=s(3049),a=s(4205),r=s(5729),n=s(2180),l=s(3317),o=s(3126),c=s(2770),d=s(895),h=s(219);let m=(0,h.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,h.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var x=s(599);let u=[{id:"beginner",label:"Beginner",description:"Learning the basics",rating:800},{id:"intermediate",label:"Intermediate",description:"Understanding strategy",rating:1200},{id:"advanced",label:"Advanced",description:"Deep tactical knowledge",rating:1600},{id:"expert",label:"Expert",description:"Master level play",rating:2e3},{id:"titled",label:"Titled Player",description:"GM, IM, FM, or other title",rating:2200}],y=[{id:"tactics",label:"Tactics",icon:"\uD83C\uDFAF",description:"Sharp combinations and sacrifices"},{id:"endgames",label:"Endgames",icon:"♟️",description:"King and pawn endgames, technique"},{id:"openings",label:"Openings",icon:"\uD83D\uDE80",description:"Opening theory and preparation"},{id:"middlegame",label:"Middlegame",icon:"\uD83E\uDDE0",description:"Positional play and planning"},{id:"analysis",label:"Game Analysis",icon:"\uD83D\uDCCA",description:"Deep game analysis and learning"}],g=[{id:"calm",label:"Calm",description:"Relaxed and soothing narration",icon:"\uD83D\uDE0C"},{id:"expressive",label:"Expressive",description:"Emotionally engaging storytelling",icon:"\uD83C\uDFAD"},{id:"dramatic",label:"Dramatic",description:"Intense and powerful delivery",icon:"⚡"},{id:"poetic",label:"Poetic",description:"Beautiful and artistic narration",icon:"✨"}];function f(){let[e,t]=(0,a.useState)(0),[s,h]=(0,a.useState)({skillLevel:"",interests:[],voicePreference:"calm",notifications:{email:!0,push:!1,voice:!0}}),{playNarration:f,stopNarration:v}=(0,x.g)(),b=[{id:"welcome",title:"Welcome to TheChessWire",description:"Let's personalize your chess journey",voiceText:"Welcome to TheChessWire.news! I am Bambai AI, your guide through the infinite possibilities of chess. Let's begin by understanding your chess journey and preferences.",component:(0,i.jsxs)("div",{className:"text-center space-y-6",children:[(0,i.jsx)(r.P.div,{className:"w-24 h-24 bg-primary-500 rounded-full flex items-center justify-center mx-auto glow-effect",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,i.jsx)("span",{className:"text-4xl",children:"♟️"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Welcome to TheChessWire"}),(0,i.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"I'm Bambai AI, your personal chess companion. Let's create a journey that's uniquely yours."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[(0,i.jsxs)("div",{className:"glass-morphism-dark p-4 rounded-lg",children:[(0,i.jsx)(l.A,{className:"w-8 h-8 text-primary-400 mx-auto mb-2"}),(0,i.jsx)("h3",{className:"font-semibold text-white",children:"AI-Powered Analysis"}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:"Deep insights into every move"})]}),(0,i.jsxs)("div",{className:"glass-morphism-dark p-4 rounded-lg",children:[(0,i.jsx)(o.A,{className:"w-8 h-8 text-primary-400 mx-auto mb-2"}),(0,i.jsx)("h3",{className:"font-semibold text-white",children:"Voice Narration"}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:"Hear chess come alive"})]}),(0,i.jsxs)("div",{className:"glass-morphism-dark p-4 rounded-lg",children:[(0,i.jsx)(c.A,{className:"w-8 h-8 text-primary-400 mx-auto mb-2"}),(0,i.jsx)("h3",{className:"font-semibold text-white",children:"Personalized Training"}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:"Tailored to your style"})]})]})]})},{id:"skill-level",title:"What's Your Chess Level?",description:"Help us understand your experience",voiceText:"Now, let's understand your chess level. This helps me provide the perfect balance of challenge and learning for your journey.",component:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"What's Your Chess Level?"}),(0,i.jsx)("p",{className:"text-gray-300",children:"Help us understand your experience"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>(0,i.jsxs)(r.P.button,{onClick:()=>h({...s,skillLevel:e.id}),className:"p-6 rounded-lg text-left transition-all duration-300 ".concat(s.skillLevel===e.id?"glass-morphism-dark border-2 border-primary-500":"glass-morphism-dark hover:border-primary-300 border border-transparent"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("h3",{className:"font-semibold text-white",children:e.label}),(0,i.jsxs)("span",{className:"text-sm text-gray-400",children:["~",e.rating]})]}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:e.description}),s.skillLevel===e.id&&(0,i.jsx)(r.P.div,{className:"mt-2 text-primary-400",initial:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(d.A,{className:"w-5 h-5"})})]},e.id))})]})},{id:"interests",title:"What Interests You Most?",description:"Select your chess passions",voiceText:"Chess is a vast ocean of knowledge. Let's discover what aspects of the game fascinate you most, so I can tailor your experience perfectly.",component:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"What Interests You Most?"}),(0,i.jsx)("p",{className:"text-gray-300",children:"Select your chess passions"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(e=>(0,i.jsxs)(r.P.button,{onClick:()=>{let t=s.interests.includes(e.id)?s.interests.filter(t=>t!==e.id):[...s.interests,e.id];h({...s,interests:t})},className:"p-6 rounded-lg text-left transition-all duration-300 ".concat(s.interests.includes(e.id)?"glass-morphism-dark border-2 border-primary-500":"glass-morphism-dark hover:border-primary-300 border border-transparent"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,i.jsx)("span",{className:"text-2xl",children:e.icon}),(0,i.jsx)("h3",{className:"font-semibold text-white",children:e.label})]}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:e.description})]},e.id))})]})},{id:"voice-setup",title:"Choose Your Voice Experience",description:"How would you like to hear chess?",voiceText:"My voice is your companion through this chess journey. Choose the style that resonates with your soul and makes chess come alive for you.",component:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Voice Experience"}),(0,i.jsx)("p",{className:"text-gray-300",children:"How would you like to hear chess?"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,i.jsxs)(r.P.button,{onClick:()=>h({...s,voicePreference:e.id}),className:"p-6 rounded-lg text-left transition-all duration-300 ".concat(s.voicePreference===e.id?"glass-morphism-dark border-2 border-primary-500":"glass-morphism-dark hover:border-primary-300 border border-transparent"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,i.jsx)("span",{className:"text-2xl",children:e.icon}),(0,i.jsx)("h3",{className:"font-semibold text-white",children:e.label})]}),(0,i.jsx)("p",{className:"text-sm text-gray-300",children:e.description}),s.voicePreference===e.id&&(0,i.jsx)(r.P.button,{onClick:t=>{t.stopPropagation(),f("This is how I will sound in "+e.label+" mode. Every word will carry the emotion and style that makes chess truly magical.",e.id)},className:"mt-3 px-4 py-2 bg-primary-500 text-white rounded-lg text-sm hover:bg-primary-600 transition-colors",children:"Preview Voice"})]},e.id))})]})},{id:"notifications",title:"Stay Connected",description:"Choose your notification preferences",voiceText:"Stay connected with the chess world. Choose how you'd like to receive updates, insights, and magical moments from your chess journey.",component:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Stay Connected"}),(0,i.jsx)("p",{className:"text-gray-300",children:"Choose your notification preferences"})]}),(0,i.jsx)("div",{className:"space-y-4",children:Object.entries(s.notifications).map(e=>{let[t,a]=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 glass-morphism-dark rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"font-semibold text-white capitalize",children:[t," Notifications"]}),(0,i.jsxs)("p",{className:"text-sm text-gray-300",children:["email"===t&&"Receive insights and updates via email","push"===t&&"Get instant notifications on your device","voice"===t&&"Hear voice updates and narrations"]})]}),(0,i.jsx)("button",{onClick:()=>{let e={...s.notifications,[t]:!a};h({...s,notifications:e})},className:"w-12 h-6 rounded-full transition-colors ".concat(a?"bg-primary-500":"bg-gray-600"),children:(0,i.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(a?"translate-x-6":"translate-x-1")})})]},t)})})]})}],j=async()=>{try{(await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(window.location.href="/dashboard")}catch(e){console.error("Onboarding completion failed:",e)}},w=b[e];return(0,i.jsx)("div",{className:"min-h-screen chess-gradient-dark flex items-center justify-center p-4",children:(0,i.jsx)("div",{className:"w-full max-w-4xl",children:(0,i.jsxs)(r.P.div,{className:"glass-morphism-dark rounded-2xl p-8 shadow-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-300",children:["Step ",e+1," of ",b.length]}),(0,i.jsxs)("span",{className:"text-sm text-primary-400",children:[Math.round((e+1)/b.length*100),"% Complete"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,i.jsx)(r.P.div,{className:"bg-gradient-to-r from-primary-500 to-accent-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((e+1)/b.length*100,"%")},transition:{duration:.5}})})]}),(0,i.jsx)(n.N,{mode:"wait",children:(0,i.jsx)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:w.component},e)}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,i.jsxs)(r.P.button,{onClick:()=>{e>0&&t(e-1)},disabled:0===e,className:"flex items-center space-x-2 px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",whileHover:{scale:0===e?1:1.05},whileTap:{scale:0===e?1:.95},children:[(0,i.jsx)(m,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Previous"})]}),(0,i.jsxs)(r.P.button,{onClick:()=>{e<b.length-1?t(e+1):j()},className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-accent-500 text-white rounded-lg hover:from-primary-600 hover:to-accent-600 transition-all duration-300 glow-effect",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,i.jsx)("span",{children:e===b.length-1?"Complete Setup":"Next"}),(0,i.jsx)(p,{className:"w-4 h-4"})]})]})]})})})}},2180:(e,t,s)=>{"use strict";s.d(t,{N:()=>g});var i=s(3049),a=s(4205),r=s(10),n=s(3814),l=s(1234),o=s(5149);class c extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s}=e,r=(0,a.useId)(),n=(0,a.useRef)(null),l=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,a.useContext)(o.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:a}=l.current;if(s||!n.current||!e||!t)return;n.current.dataset.motionPopId=r;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,i.jsx)(c,{isPresent:s,childRef:n,sizeRef:l,children:a.cloneElement(t,{ref:n})})}let h=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:o,custom:c,presenceAffectsLayout:h,mode:p}=e,x=(0,n.M)(m),u=(0,a.useId)(),y=(0,a.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),g=(0,a.useMemo)(()=>({id:u,initial:s,isPresent:r,custom:c,onExitComplete:y,register:e=>(x.set(e,!1),()=>x.delete(e))}),h?[Math.random(),y]:[r,y]);return(0,a.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),a.useEffect(()=>{r||x.size||!o||o()},[r]),"popLayout"===p&&(t=(0,i.jsx)(d,{isPresent:r,children:t})),(0,i.jsx)(l.t.Provider,{value:g,children:t})};function m(){return new Map}var p=s(2347);let x=e=>e.key||"";function u(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var y=s(1975);let g=e=>{let{children:t,custom:s,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[g,f]=(0,p.xQ)(m),v=(0,a.useMemo)(()=>u(t),[t]),b=m&&!g?[]:v.map(x),j=(0,a.useRef)(!0),w=(0,a.useRef)(v),N=(0,n.M)(()=>new Map),[k,C]=(0,a.useState)(v),[P,A]=(0,a.useState)(v);(0,y.E)(()=>{j.current=!1,w.current=v;for(let e=0;e<P.length;e++){let t=x(P[e]);b.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[P,b.length,b.join("-")]);let M=[];if(v!==k){let e=[...v];for(let t=0;t<P.length;t++){let s=P[t],i=x(s);b.includes(i)||(e.splice(t,0,s),M.push(s))}"wait"===d&&M.length&&(e=M),A(u(e)),C(v);return}let{forceRender:T}=(0,a.useContext)(r.L);return(0,i.jsx)(i.Fragment,{children:P.map(e=>{let t=x(e),a=(!m||!!g)&&(v===P||b.includes(t));return(0,i.jsx)(h,{isPresent:a,initial:(!j.current||!!l)&&void 0,custom:a?void 0:s,presenceAffectsLayout:c,mode:d,onExitComplete:a?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==T||T(),A(w.current),m&&(null==f||f()),o&&o())},children:e},t)})})}},2770:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(219).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3126:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(219).A)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]])},3317:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(219).A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},8435:(e,t,s)=>{Promise.resolve().then(s.bind(s,1709))}},e=>{e.O(0,[1327,6693,6562,8036,7358],()=>e(e.s=8435)),_N_E=e.O()}]);