(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3270],{1940:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3091:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4005:(e,t,a)=>{"use strict";var i=a(4913);a.o(i,"useRouter")&&a.d(t,{useRouter:function(){return i.useRouter}}),a.o(i,"useSearchParams")&&a.d(t,{useSearchParams:function(){return i.useSearchParams}})},5198:(e,t,a)=>{Promise.resolve().then(a.bind(a,6051))},5653:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var i=a(3049),r=a(4205),s=a(5729),n=a(5653);let o=(0,a(219).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var c=a(1940),l=a(3091),d=a(8463),u=a(4005),m=a(6693);function h(){let[e,t]=(0,r.useState)("pending"),[a,h]=(0,r.useState)(!1),[y,p]=(0,r.useState)(0),x=(0,u.useSearchParams)(),f=x.get("token");(0,r.useEffect)(()=>{f&&g(f)},[f]),(0,r.useEffect)(()=>{if(y>0){let e=setTimeout(()=>p(y-1),1e3);return()=>clearTimeout(e)}},[y]);let g=async e=>{h(!0);try{(await fetch("/api/auth/verify-email/".concat(e),{method:"GET"})).ok?(t("success"),m.Ay.success("Email verified successfully!")):(t("error"),m.Ay.error("Email verification failed"))}catch(e){t("error"),m.Ay.error("Email verification failed")}finally{h(!1)}},w=async()=>{h(!0);try{(await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.get("email")})})).ok?(m.Ay.success("Verification email sent!"),p(60)):m.Ay.error("Failed to send verification email")}catch(e){m.Ay.error("Failed to send verification email")}finally{h(!1)}},b=(()=>{switch(e){case"success":return{icon:(0,i.jsx)(n.A,{className:"w-16 h-16 text-green-400"}),title:"Email Verified Successfully!",description:"Your email has been verified. You can now access all features of TheChessWire.news.",buttonText:"Continue to Dashboard",buttonAction:()=>window.location.href="/dashboard",color:"text-green-400"};case"error":return{icon:(0,i.jsx)(o,{className:"w-16 h-16 text-red-400"}),title:"Verification Failed",description:"The verification link is invalid or has expired. Please request a new verification email.",buttonText:"Request New Verification",buttonAction:w,color:"text-red-400"};default:return{icon:(0,i.jsx)(c.A,{className:"w-16 h-16 text-primary-400"}),title:"Verifying Your Email...",description:"Please wait while we verify your email address.",buttonText:"",buttonAction:()=>{},color:"text-primary-400"}}})();return(0,i.jsx)("div",{className:"min-h-screen chess-gradient-dark flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsxs)(s.P.div,{className:"glass-morphism-dark rounded-2xl p-8 shadow-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)(s.P.div,{className:"w-20 h-20 bg-primary-500/20 rounded-full flex items-center justify-center mx-auto mb-4",animate:{scale:"pending"===e?[1,1.1,1]:1,rotate:"pending"===e?[0,360]:0},transition:{scale:{duration:2,repeat:"pending"===e?1/0:0},rotate:{duration:3,repeat:"pending"===e?1/0:0,ease:"linear"}},children:"pending"===e&&a?(0,i.jsx)(l.A,{className:"w-8 h-8 text-primary-400"}):b.icon}),(0,i.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:b.title}),(0,i.jsx)("p",{className:"text-gray-300",children:b.description})]}),"pending"===e&&(0,i.jsx)(s.P.div,{className:"mb-6",initial:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,i.jsx)(s.P.div,{className:"w-2 h-2 bg-primary-400 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0}}),(0,i.jsx)(s.P.div,{className:"w-2 h-2 bg-primary-400 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:.2}}),(0,i.jsx)(s.P.div,{className:"w-2 h-2 bg-primary-400 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:.4}})]})}),b.buttonText&&(0,i.jsx)(s.P.button,{onClick:b.buttonAction,disabled:a||y>0,className:"w-full bg-gradient-to-r from-primary-500 to-accent-500 text-white font-semibold py-3 rounded-lg hover:from-primary-600 hover:to-accent-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed glow-effect flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.P.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,i.jsx)("span",{children:"Processing..."})]}):y>0?(0,i.jsxs)("span",{children:["Wait ",y,"s"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:b.buttonText}),(0,i.jsx)(d.A,{className:"w-4 h-4"})]})}),"error"===e&&(0,i.jsxs)(s.P.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,i.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Didn't receive the email? Check your spam folder or try again."}),(0,i.jsx)("button",{onClick:()=>window.location.href="/auth/gateway",className:"text-primary-400 hover:text-primary-300 text-sm",children:"Back to Login"})]}),"success"===e&&(0,i.jsx)(s.P.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>window.location.href="/onboarding",className:"w-full bg-gray-700 text-white font-medium py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Complete Onboarding"}),(0,i.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"w-full bg-gray-700 text-white font-medium py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Go to Dashboard"})]})})]}),(0,i.jsx)(s.P.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,i.jsx)("p",{className:"text-gray-400 text-xs",children:"\uD83D\uDD10 Your security is our priority. All verification links expire after 24 hours."})})]})})}},8463:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(219).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}},e=>{e.O(0,[1327,6693,6562,8036,7358],()=>e(e.s=5198)),_N_E=e.O()}]);