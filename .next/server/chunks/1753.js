"use strict";exports.id=1753,exports.ids=[1753],exports.modules={41753:(a,b,c)=>{let d;c.d(b,{Ve:()=>bu});var e,f,g=c(33549),h=c(53336);let i="abcdefgh".split(""),j={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},k={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},l={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},m=[7,6,5,4,3,2,1,0],n=[0,1,2,3,4,5,6,7],o={wP:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsx)("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),(0,g.jsx)("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),(0,g.jsx)("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsxs)("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[(0,g.jsx)("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),(0,g.jsx)("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),(0,g.jsx)("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),(0,g.jsx)("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[(0,g.jsx)("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),(0,g.jsx)("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),(0,g.jsx)("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),(0,g.jsx)("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),(0,g.jsx)("circle",{cx:"6",cy:"12",r:"2"}),(0,g.jsx)("circle",{cx:"14",cy:"9",r:"2"}),(0,g.jsx)("circle",{cx:"22.5",cy:"8",r:"2"}),(0,g.jsx)("circle",{cx:"31",cy:"9",r:"2"}),(0,g.jsx)("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsx)("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),(0,g.jsx)("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),(0,g.jsx)("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),(0,g.jsx)("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsxs)("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[(0,g.jsx)("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),(0,g.jsx)("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),(0,g.jsx)("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),(0,g.jsx)("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[(0,g.jsx)("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),(0,g.jsx)("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),(0,g.jsx)("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),(0,g.jsx)("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),(0,g.jsx)("circle",{cx:"6",cy:"12",r:"2"}),(0,g.jsx)("circle",{cx:"14",cy:"9",r:"2"}),(0,g.jsx)("circle",{cx:"22.5",cy:"8",r:"2"}),(0,g.jsx)("circle",{cx:"31",cy:"9",r:"2"}),(0,g.jsx)("circle",{cx:"39",cy:"12",r:"2"}),(0,g.jsx)("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),(0,g.jsxs)("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[(0,g.jsx)("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),(0,g.jsx)("path",{d:"M 12.5,31.5 L 32.5,31.5"}),(0,g.jsx)("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),(0,g.jsx)("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:(0,g.jsxs)("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[(0,g.jsx)("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),(0,g.jsx)("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),(0,g.jsx)("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),(0,g.jsx)("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),(0,g.jsx)("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function p(a,b,c){let d=b/8;return{x:("white"===a?k:l)[c[0]]*d+d/2,y:("white"===a?m:n)[parseInt(c[1],10)-1]*d+d/2}}function q(a){let b=!1;return Object.keys(j).forEach(c=>{a[c]!==j[c]&&(b=!0)}),Object.keys(a).forEach(c=>{j[c]!==a[c]&&(b=!0)}),b}function r(a){return"start"===a?j:"string"==typeof a?function(a){if(!function(a){let b=(a=(a=a.replace(/ .+$/,"")).replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")).split("/");if(8!==b.length)return!1;for(let a=0;a<8;a++)if(8!==b[a].length||-1!==b[a].search(/[^kqrnbpKQRNBP1]/))return!1;return!0}(a))return{};let b=(a=a.replace(/ .+$/,"")).split("/"),c={},d=8;for(let a=0;a<8;a++){let f=b[a].split(""),g=0;for(let a=0;a<f.length;a++){var e;-1!==f[a].search(/[1-8]/)?g+=parseInt(f[a],10):(c[i[g]+d]=(e=f[a]).toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase(),g+=1)}d-=1}return c}(a):a}let s=(0,h.createContext)({}),t=()=>(0,h.useContext)(s),u=(0,h.forwardRef)(({allowDragOutsideBoard:a=!0,animationDuration:b=300,areArrowsAllowed:c=!0,arePiecesDraggable:d=!0,arePremovesAllowed:e=!1,autoPromoteToQueen:f=!1,boardOrientation:i="white",boardWidth:j,children:k,clearPremovesOnRightClick:l=!0,customArrows:m,customArrowColor:n="rgb(255,170,0)",customBoardStyle:p,customNotationStyle:t,customDarkSquareStyle:u={backgroundColor:"#B58863"},customDropSquareStyle:v={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:w={backgroundColor:"#F0D9B5"},customPieces:x,customPremoveDarkSquareStyle:y={backgroundColor:"#A42323"},customPremoveLightSquareStyle:z={backgroundColor:"#BD2828"},customSquare:A="div",customSquareStyles:B,dropOffBoardAction:C="snapback",id:D=0,isDraggablePiece:E=()=>!0,getPositionObject:F=()=>{},onArrowsChange:G=()=>{},onDragOverSquare:H=()=>{},onMouseOutSquare:I=()=>{},onMouseOverSquare:J=()=>{},onPieceClick:K=()=>{},onPieceDragBegin:L=()=>{},onPieceDragEnd:M=()=>{},onPieceDrop:N=()=>!0,onPieceDropOffBoard:O=()=>{},onPromotionCheck:P=(a,b,c)=>("wP"===c&&"7"===a[1]&&"8"===b[1]||"bP"===c&&"2"===a[1]&&"1"===b[1])&&1>=Math.abs(a.charCodeAt(0)-b.charCodeAt(0)),onPromotionPieceSelect:Q=()=>!0,onSparePieceDrop:R=()=>!0,onSquareClick:S=()=>{},onSquareRightClick:T=()=>{},position:U="start",promotionDialogVariant:V="default",promotionToSquare:W=null,showBoardNotation:X=!0,showPromotionDialog:Y=!1,snapToCursor:Z=!0},$)=>{let[_,aa]=(0,h.useState)(r(U)),[ab,ac]=(0,h.useState)({removed:{},added:{}}),[ad,ae]=(0,h.useState)(void 0),[af,ag]=(0,h.useState)(Y&&!f),[ah,ai]=(0,h.useState)(null),[aj,ak]=(0,h.useState)(W),[al,am]=(0,h.useState)([]),an=(0,h.useRef)(al),[ao,ap]=(0,h.useState)(),[aq,ar]=(0,h.useState)(Object.assign(Object.assign({},o),x)),[as,at]=(0,h.useState)(!1),au=(0,h.useRef)(),[av,aw]=(0,h.useState)(!1),[ax,ay]=(0,h.useState)(null);(0,h.useImperativeHandle)($,()=>({clearPremoves(a=!0){aF(a)}})),(0,h.useEffect)(()=>{ar(Object.assign(Object.assign({},o),x))},[x]),(0,h.useEffect)(()=>{ag(Y),ak(W)},[W,Y]),(0,h.useEffect)(()=>{var a,c,d;aG();let f=r(U),g=function(a,b){let c={removed:{},added:{}};return Object.keys(a).forEach(d=>{b[d]!==a[d]&&(c.removed[d]=a[d])}),Object.keys(b).forEach(d=>{a[d]!==b[d]&&(c.added[d]=b[d])}),c}(_,f),h=(null==(a=Object.keys(g.added))?void 0:a.length)<=2?null==(d=null==(c=Object.entries(g.added))?void 0:c[0])?void 0:d[1][0]:void 0;return av?(aa(f),aw(!1),e&&aE(h),au.current&&clearTimeout(au.current)):as?(aa(f),aw(!1),e&&aE(h)):(q(f)&&void 0!==ad?ae(h):q(f)?ae(void 0):ae("b"),ac(g),aw(!0),au.current=setTimeout(()=>{aa(f),aw(!1),e&&aE(h)},b)),at(!1),F(f),aB(),()=>{clearTimeout(au.current)}},[U]);let{arrows:az,newArrow:aA,clearArrows:aB,drawNewArrow:aC,onArrowDrawEnd:aD}=((a,b=!0,c,d)=>{let[e,f]=(0,h.useState)([]),[g,i]=(0,h.useState)([]),[j,k]=(0,h.useState)();function l(){i([]),k(void 0)}(0,h.useEffect)(()=>{Array.isArray(a)&&(l(),f(null==a?void 0:a.filter(a=>a[0]!==a[1])))},[a]),(0,h.useEffect)(()=>{null==c||c(g)},[g]);let m=[...g,...e];return{arrows:m,newArrow:j,clearArrows:l,drawNewArrow:(a,c)=>{b&&k([a,c,d])},setArrows:i,onArrowDrawEnd:(a,c)=>{let e;a!==c&&b&&(e=m.every(([b,d])=>b!==a||d!==c)?[...g,[a,c,d]]:g.filter(([b,d])=>b!==a||d!==c),k(void 0),i(e))}}})(m,c,G,n);function aE(a){if(0===an.current.length)return;let b=an.current[0];if(void 0!==b.piece[0]&&b.piece[0]!==a&&N.length)if(ae(b.piece[0]),at(!0),N(b.sourceSq,b.targetSq,b.piece)){let a=[...an.current];a.shift(),an.current=a,am([...a])}else aF()}function aF(a=!0){a&&ae(void 0),an.current=[],am([])}function aG(){ai(null),ak(null),ag(!1)}return(0,g.jsx)(s.Provider,Object.assign({value:{allowDragOutsideBoard:a,animationDuration:b,arePiecesDraggable:d,arePremovesAllowed:e,arrows:az,autoPromoteToQueen:f,boardOrientation:i,boardWidth:j,chessPieces:aq,clearArrows:aB,clearCurrentRightClickDown:function(){ap(void 0)},currentPosition:_,currentRightClickDown:ao,customArrowColor:n,customBoardStyle:p,customDarkSquareStyle:u,customDropSquareStyle:v,customLightSquareStyle:w,customNotationStyle:t,customPremoveDarkSquareStyle:y,customPremoveLightSquareStyle:z,customSquare:A,customSquareStyles:B,deletePieceFromSquare:function(a){let b=Object.assign({},_);delete b[a],aa(b),F(b)},drawNewArrow:aC,dropOffBoardAction:C,handleSetPosition:function(a,b,c,d){if(a===b)return;if(aB(),e&&av||e&&(ad===c[0]||an.current.filter(a=>a.piece[0]===c[0]).length>0)){let d=[...an.current];d.push({sourceSq:a,targetSq:b,piece:c}),an.current=d,am([...d]),aG();return}if(!e&&av)return;let f=Object.assign({},_);at(!!d),ae(c[0]),N.length?N(a,b,c)||(aF(),at(!1)):(delete f[a],f[b]=c,aa(f)),aG(),F(f)},handleSparePieceDrop:function(a,b){if(!R(a,b))return;let c=Object.assign({},_);c[b]=a,aa(c),F(c)},id:D,isDraggablePiece:E,isWaitingForAnimation:av,lastPieceColour:ad,lastSquareDraggedOver:ax,newArrow:aA,onArrowDrawEnd:aD,onDragOverSquare:H,onMouseOutSquare:I,onMouseOverSquare:J,onPieceClick:K,onPieceDragBegin:L,onPieceDragEnd:M,onPieceDrop:N,onPieceDropOffBoard:O,onPromotionCheck:P,onPromotionPieceSelect:Q,onRightClickDown:function(a){ap(a)},onRightClickUp:function(a){if(ao){if(ao===a){ap(void 0),l&&aF(!1),T(a);return}}else ap(void 0)},onSparePieceDrop:R,onSquareClick:S,positionDifferences:ab,premoves:al,promoteFromSquare:ah,promoteToSquare:aj,promotionDialogVariant:V,setLastSquareDraggedOver:ay,setPromoteFromSquare:ai,setPromoteToSquare:ak,setShowPromoteDialog:ag,showBoardNotation:X,showPromoteDialog:af,snapToCursor:Z}},{children:k}))});function v({row:a,col:b}){let{boardOrientation:c,boardWidth:d,customDarkSquareStyle:e,customLightSquareStyle:f,customNotationStyle:h}=t(),j=f.backgroundColor,k=e.backgroundColor,l=0===b,m=7===a;function n(){return"white"===c?8-a:a+1}function o(){return"black"===c?i[7-b]:i[b]}return l&&m?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:j}),x(d,h))},{children:n()})),(0,g.jsx)("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:j}),w(d,h))},{children:o()}))]}):m?(0,g.jsx)("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:b%2!=0?k:j}),w(d,h))},{children:o()})):l?(0,g.jsx)("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:a%2==0?k:j}),x(d,h))},{children:n()})):null}let w=(a,b)=>Object.assign({alignSelf:"flex-end",paddingLeft:a/8-a/48,fontSize:a/48},b),x=(a,b)=>Object.assign({alignSelf:"flex-start",paddingRight:a/8-a/48,fontSize:a/48},b),y=(0,h.createContext)({dragDropManager:void 0});function z(a){return"Minified Redux error #"+a+"; visit https://redux.js.org/Errors?code="+a+" for the full message or use the non-minified dev environment for full errors. "}var A="function"==typeof Symbol&&Symbol.observable||"@@observable",B=function(){return Math.random().toString(36).substring(7).split("").join(".")},C={INIT:"@@redux/INIT"+B(),REPLACE:"@@redux/REPLACE"+B(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+B()}};function D(a,b,...c){if("undefined"!=typeof process&&void 0===b)throw Error("invariant requires an error message argument");if(!a){let a;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let d=0;(a=Error(b.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}function E(a){return"object"==typeof a}let F="dnd-core/INIT_COORDS",G="dnd-core/BEGIN_DRAG",H="dnd-core/PUBLISH_DRAG_SOURCE",I="dnd-core/HOVER",J="dnd-core/DROP",K="dnd-core/END_DRAG";function L(a,b){return{type:F,payload:{sourceClientOffset:b||null,clientOffset:a||null}}}let M={type:F,payload:{clientOffset:null,sourceClientOffset:null}};function N(a,b){return null===b?null===a:Array.isArray(a)?a.some(a=>a===b):a===b}class O{receiveBackend(a){this.backend=a}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){var a,b,c,d,e;let f=this,{dispatch:g}=this.store,h={beginDrag:(a=this,function(b=[],c={publishSource:!0}){var d,e,f;let{publishSource:g=!0,clientOffset:h,getSourceClientOffset:i}=c,j=a.getMonitor(),k=a.getRegistry();a.dispatch(L(h)),d=b,e=j,f=k,D(!e.isDragging(),"Cannot call beginDrag while dragging."),d.forEach(function(a){D(f.getSource(a),"Expected sourceIds to be registered.")});let l=function(a,b){let c=null;for(let d=a.length-1;d>=0;d--)if(b.canDragSource(a[d])){c=a[d];break}return c}(b,j);if(null==l)return void a.dispatch(M);let m=null;if(h){if(!i)throw Error("getSourceClientOffset must be defined");D("function"==typeof i,"When clientOffset is provided, getSourceClientOffset must be a function."),m=i(l)}a.dispatch(L(h,m));let n=k.getSource(l).beginDrag(j,l);if(null!=n)return D(E(n),"Item must be an object."),k.pinSource(l),{type:G,payload:{itemType:k.getSourceType(l),item:n,sourceId:l,clientOffset:h||null,sourceClientOffset:m||null,isSourcePublic:!!g}}}),publishDragSource:(b=this,function(){if(b.getMonitor().isDragging())return{type:H}}),hover:(c=this,function(a,{clientOffset:b}={}){var d,e,f;D(Array.isArray(a),"Expected targetIds to be an array.");let g=a.slice(0),h=c.getMonitor(),i=c.getRegistry();return function(a,b,c){for(let d=a.length-1;d>=0;d--){let e=a[d];N(b.getTargetType(e),c)||a.splice(d,1)}}(g,i,h.getItemType()),function(a,b,c){D(b.isDragging(),"Cannot call hover while not dragging."),D(!b.didDrop(),"Cannot call hover after drop.");for(let b=0;b<a.length;b++){let d=a[b];D(a.lastIndexOf(d)===b,"Expected targetIds to be unique in the passed array."),D(c.getTarget(d),"Expected targetIds to be registered.")}}(g,h,i),d=g,e=h,f=i,d.forEach(function(a){f.getTarget(a).hover(e,a)}),{type:I,payload:{targetIds:g,clientOffset:b||null}}}),drop:(d=this,function(a={}){var b;let c=d.getMonitor(),e=d.getRegistry();D((b=c).isDragging(),"Cannot call drop while not dragging."),D(!b.didDrop(),"Cannot call drop twice during one drag operation."),(function(a){let b=a.getTargetIds().filter(a.canDropOnTarget,a);return b.reverse(),b})(c).forEach((b,f)=>{let g={type:J,payload:{dropResult:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}({},a,function(a,b,c,d){var e;let f=c.getTarget(a),g=f?f.drop(d,a):void 0;return D(void 0===(e=g)||E(e),"Drop result must either be an object or undefined."),void 0===g&&(g=0===b?{}:d.getDropResult()),g}(b,f,e,c))}};d.dispatch(g)})}),endDrag:(e=this,function(){let a=e.getMonitor(),b=e.getRegistry();D(a.isDragging(),"Cannot call endDrag while not dragging.");let c=a.getSourceId();return null!=c&&(b.getSource(c,!0).endDrag(a,c),b.unpinSource()),{type:K}})};return Object.keys(h).reduce((a,b)=>{let c=h[b];return a[b]=(...a)=>{let b=c.apply(f,a);void 0!==b&&g(b)},a},{})}dispatch(a){this.store.dispatch(a)}constructor(a,b){this.isSetUp=!1,this.handleRefCountChange=()=>{let a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=a,this.monitor=b,a.subscribe(this.handleRefCountChange)}}function P(a,b){return{x:a.x-b.x,y:a.y-b.y}}let Q=[],R=[];Q.__IS_NONE__=!0,R.__IS_ALL__=!0;class S{subscribeToStateChange(a,b={}){let{handlerIds:c}=b;D("function"==typeof a,"listener must be a function."),D(void 0===c||Array.isArray(c),"handlerIds, when specified, must be an array of strings.");let d=this.store.getState().stateId;return this.store.subscribe(()=>{let b=this.store.getState(),e=b.stateId;try{e===d||e===d+1&&!function(a,b){return a!==Q&&(a===R||void 0===b||b.filter(b=>a.indexOf(b)>-1).length>0)}(b.dirtyHandlerIds,c)||a()}finally{d=e}})}subscribeToOffsetChange(a){D("function"==typeof a,"listener must be a function.");let b=this.store.getState().dragOffset;return this.store.subscribe(()=>{let c=this.store.getState().dragOffset;c!==b&&(b=c,a())})}canDragSource(a){if(!a)return!1;let b=this.registry.getSource(a);return D(b,`Expected to find a valid source. sourceId=${a}`),!this.isDragging()&&b.canDrag(this,a)}canDropOnTarget(a){if(!a)return!1;let b=this.registry.getTarget(a);return D(b,`Expected to find a valid target. targetId=${a}`),!(!this.isDragging()||this.didDrop())&&N(this.registry.getTargetType(a),this.getItemType())&&b.canDrop(this,a)}isDragging(){return!!this.getItemType()}isDraggingSource(a){if(!a)return!1;let b=this.registry.getSource(a,!0);return D(b,`Expected to find a valid source. sourceId=${a}`),!!this.isDragging()&&!!this.isSourcePublic()&&this.registry.getSourceType(a)===this.getItemType()&&b.isDragging(this,a)}isOverTarget(a,b={shallow:!1}){if(!a)return!1;let{shallow:c}=b;if(!this.isDragging())return!1;let d=this.registry.getTargetType(a),e=this.getItemType();if(e&&!N(d,e))return!1;let f=this.getTargetIds();if(!f.length)return!1;let g=f.indexOf(a);return c?g===f.length-1:g>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(a){let{clientOffset:b,initialClientOffset:c,initialSourceClientOffset:d}=a;return b&&c&&d?P({x:b.x+d.x,y:b.y+d.y},c):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){let{clientOffset:a,initialClientOffset:b}=this.store.getState().dragOffset;return a&&b?P(a,b):null}constructor(a,b){this.store=a,this.registry=b}}let T="undefined"!=typeof global?global:self,U=T.MutationObserver||T.WebKitMutationObserver;function V(a){return function(){let b=setTimeout(d,0),c=setInterval(d,50);function d(){clearTimeout(b),clearInterval(c),a()}}}let W="function"==typeof U?function(a){let b=1,c=new U(a),d=document.createTextNode("");return c.observe(d,{characterData:!0}),function(){d.data=b=-b}}:V;class X{enqueueTask(a){let{queue:b,requestFlush:c}=this;b.length||(c(),this.flushing=!0),b[b.length]=a}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:a}=this;for(;this.index<a.length;){let b=this.index;if(this.index++,a[b].call(),this.index>this.capacity){for(let b=0,c=a.length-this.index;b<c;b++)a[b]=a[b+this.index];a.length-=this.index,this.index=0}}a.length=0,this.index=0,this.flushing=!1},this.registerPendingError=a=>{this.pendingErrors.push(a),this.requestErrorThrow()},this.requestFlush=W(this.flush),this.requestErrorThrow=V(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Y{call(){try{this.task&&this.task()}catch(a){this.onError(a)}finally{this.task=null,this.release(this)}}constructor(a,b){this.onError=a,this.release=b,this.task=null}}class Z{create(a){let b=this.freeTasks,c=b.length?b.pop():new Y(this.onError,a=>b[b.length]=a);return c.task=a,c}constructor(a){this.onError=a,this.freeTasks=[]}}let $=new X,_=new Z($.registerPendingError),aa="dnd-core/ADD_SOURCE",ab="dnd-core/ADD_TARGET",ac="dnd-core/REMOVE_SOURCE",ad="dnd-core/REMOVE_TARGET";function ae(a,b){if(b&&Array.isArray(a))return void a.forEach(a=>ae(a,!1));D("string"==typeof a||"symbol"==typeof a,b?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(a){a.SOURCE="SOURCE",a.TARGET="TARGET"}(e||(e={}));let af=0;function ag(a){switch(a[0]){case"S":return e.SOURCE;case"T":return e.TARGET;default:throw Error(`Cannot parse handler ID: ${a}`)}}function ah(a,b){let c=a.entries(),d=!1;do{let{done:a,value:[,e]}=c.next();if(e===b)return!0;d=!!a}while(!d);return!1}class ai{addSource(a,b){ae(a),D("function"==typeof b.canDrag,"Expected canDrag to be a function."),D("function"==typeof b.beginDrag,"Expected beginDrag to be a function."),D("function"==typeof b.endDrag,"Expected endDrag to be a function.");let c=this.addHandler(e.SOURCE,a,b);return this.store.dispatch({type:aa,payload:{sourceId:c}}),c}addTarget(a,b){ae(a,!0),D("function"==typeof b.canDrop,"Expected canDrop to be a function."),D("function"==typeof b.hover,"Expected hover to be a function."),D("function"==typeof b.drop,"Expected beginDrag to be a function.");let c=this.addHandler(e.TARGET,a,b);return this.store.dispatch({type:ab,payload:{targetId:c}}),c}containsHandler(a){return ah(this.dragSources,a)||ah(this.dropTargets,a)}getSource(a,b=!1){return D(this.isSourceId(a),"Expected a valid source ID."),b&&a===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(a)}getTarget(a){return D(this.isTargetId(a),"Expected a valid target ID."),this.dropTargets.get(a)}getSourceType(a){return D(this.isSourceId(a),"Expected a valid source ID."),this.types.get(a)}getTargetType(a){return D(this.isTargetId(a),"Expected a valid target ID."),this.types.get(a)}isSourceId(a){return ag(a)===e.SOURCE}isTargetId(a){return ag(a)===e.TARGET}removeSource(a){D(this.getSource(a),"Expected an existing source."),this.store.dispatch({type:ac,payload:{sourceId:a}}),$.enqueueTask(_.create(()=>{this.dragSources.delete(a),this.types.delete(a)}))}removeTarget(a){D(this.getTarget(a),"Expected an existing target."),this.store.dispatch({type:ad,payload:{targetId:a}}),this.dropTargets.delete(a),this.types.delete(a)}pinSource(a){let b=this.getSource(a);D(b,"Expected an existing source."),this.pinnedSourceId=a,this.pinnedSource=b}unpinSource(){D(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(a,b,c){let d=function(a){let b=(af++).toString();switch(a){case e.SOURCE:return`S${b}`;case e.TARGET:return`T${b}`;default:throw Error(`Unknown Handler Role: ${a}`)}}(a);return this.types.set(d,b),a===e.SOURCE?this.dragSources.set(d,c):a===e.TARGET&&this.dropTargets.set(d,c),d}constructor(a){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=a}}let aj={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ak(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}let al={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function am(a={},b){var c;return{dirtyHandlerIds:function(a=Q,b){switch(b.type){case I:break;case aa:case ab:case ad:case ac:return Q;default:return R}let{targetIds:c=[],prevTargetIds:d=[]}=b.payload,e=function(a,b){let c=new Map,d=a=>{c.set(a,c.has(a)?c.get(a)+1:1)};a.forEach(d),b.forEach(d);let e=[];return c.forEach((a,b)=>{1===a&&e.push(b)}),e}(c,d);if(!(e.length>0||!function(a,b,c=(a,b)=>a===b){if(a.length!==b.length)return!1;for(let d=0;d<a.length;++d)if(!c(a[d],b[d]))return!1;return!0}(c,d)))return Q;let f=d[d.length-1],g=c[c.length-1];return f!==g&&(f&&e.push(f),g&&e.push(g)),e}(a.dirtyHandlerIds,{type:b.type,payload:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}({},b.payload,{prevTargetIds:(c=[],"dragOperation.targetIds".split(".").reduce((a,b)=>a&&a[b]?a[b]:c||null,a))})}),dragOffset:function(a=aj,b){let{payload:c}=b;switch(b.type){case F:case G:return{initialSourceClientOffset:c.sourceClientOffset,initialClientOffset:c.clientOffset,clientOffset:c.clientOffset};case I:var d,e;if(d=a.clientOffset,e=c.clientOffset,!d&&!e||d&&e&&d.x===e.x&&d.y===e.y)return a;return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}({},a,{clientOffset:c.clientOffset});case K:case J:return aj;default:return a}}(a.dragOffset,b),refCount:function(a=0,b){switch(b.type){case aa:case ab:return a+1;case ac:case ad:return a-1;default:return a}}(a.refCount,b),dragOperation:function(a=al,b){let{payload:c}=b;switch(b.type){case G:return ak({},a,{itemType:c.itemType,item:c.item,sourceId:c.sourceId,isSourcePublic:c.isSourcePublic,dropResult:null,didDrop:!1});case H:return ak({},a,{isSourcePublic:!0});case I:return ak({},a,{targetIds:c.targetIds});case ad:var d,e;if(-1===a.targetIds.indexOf(c.targetId))return a;return ak({},a,{targetIds:(d=a.targetIds,e=c.targetId,d.filter(a=>a!==e))});case J:return ak({},a,{dropResult:c.dropResult,didDrop:!0,targetIds:[]});case K:return ak({},a,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return a}}(a.dragOperation,b),stateId:function(a=0){return a+1}(a.stateId)}}let an=0,ao=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ap=(0,h.memo)(function(a){var b,{children:c}=a;let[d,e]="manager"in(b=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["children"]))?[{dragDropManager:b.manager},!1]:[function(a,b=aq(),c,d){return b[ao]||(b[ao]={dragDropManager:function(a,b,c={},d=!1){let e=function(a){let b="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return function a(b,c,d){if("function"==typeof c&&"function"==typeof d||"function"==typeof d&&"function"==typeof arguments[3])throw Error(z(0));if("function"==typeof c&&void 0===d&&(d=c,c=void 0),void 0!==d){if("function"!=typeof d)throw Error(z(1));return d(a)(b,c)}if("function"!=typeof b)throw Error(z(2));var e,f=b,g=c,h=[],i=h,j=!1;function k(){i===h&&(i=h.slice())}function l(){if(j)throw Error(z(3));return g}function m(a){if("function"!=typeof a)throw Error(z(4));if(j)throw Error(z(5));var b=!0;return k(),i.push(a),function(){if(b){if(j)throw Error(z(6));b=!1,k();var c=i.indexOf(a);i.splice(c,1),h=null}}}function n(a){if(!function(a){if("object"!=typeof a||null===a)return!1;for(var b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}(a))throw Error(z(7));if(void 0===a.type)throw Error(z(8));if(j)throw Error(z(9));try{j=!0,g=f(g,a)}finally{j=!1}for(var b=h=i,c=0;c<b.length;c++)(0,b[c])();return a}return n({type:C.INIT}),(e={dispatch:n,subscribe:m,getState:l,replaceReducer:function(a){if("function"!=typeof a)throw Error(z(10));f=a,n({type:C.REPLACE})}})[A]=function(){var a;return(a={subscribe:function(a){if("object"!=typeof a||null===a)throw Error(z(11));function b(){a.next&&a.next(l())}return b(),{unsubscribe:m(b)}}})[A]=function(){return this},a},e}(am,a&&b&&b({name:"dnd-core",instanceId:"dnd-core"}))}(d),f=new S(e,new ai(e)),g=new O(e,f),h=a(g,b,c);return g.receiveBackend(h),g}(a,b,c,d)}),b[ao]}(b.backend,b.context,b.options,b.debugMode),!b.context];return(0,h.useEffect)(()=>{if(e){let a=aq();return++an,()=>{0==--an&&(a[ao]=null)}}},[]),(0,g.jsx)(y.Provider,{value:d,children:c})});function aq(){return"undefined"!=typeof global?global:window}var ar=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c};let as="undefined"!=typeof window?h.useLayoutEffect:h.useEffect;function at(a,b,c){let[d,e]=(0,h.useState)(()=>b(a)),f=(0,h.useCallback)(()=>{let f=b(a);!ar(d,f)&&(e(f),c&&c())},[d,a,c]);return as(f),[d,f]}function au(a,b,c){return function(a,b,c){let[d,e]=at(a,b,c);return as(function(){let b=a.getHandlerId();if(null!=b)return a.subscribeToStateChange(e,{handlerIds:[b]})},[a,e]),d}(b,a||(()=>({})),()=>c.reconnect())}function av(a,b){let c=[...b||[]];return null==b&&"function"!=typeof a&&c.push(a),(0,h.useMemo)(()=>"function"==typeof a?a():a,c)}let aw=!1,ax=!1;class ay{receiveHandlerId(a){this.sourceId=a}getHandlerId(){return this.sourceId}canDrag(){D(!aw,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return aw=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{aw=!1}}isDragging(){if(!this.sourceId)return!1;D(!ax,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ax=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ax=!1}}subscribeToStateChange(a,b){return this.internalMonitor.subscribeToStateChange(a,b)}isDraggingSource(a){return this.internalMonitor.isDraggingSource(a)}isOverTarget(a,b){return this.internalMonitor.isOverTarget(a,b)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(a){return this.internalMonitor.subscribeToOffsetChange(a)}canDragSource(a){return this.internalMonitor.canDragSource(a)}canDropOnTarget(a){return this.internalMonitor.canDropOnTarget(a)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(a){this.sourceId=null,this.internalMonitor=a.getMonitor()}}let az=!1;class aA{receiveHandlerId(a){this.targetId=a}getHandlerId(){return this.targetId}subscribeToStateChange(a,b){return this.internalMonitor.subscribeToStateChange(a,b)}canDrop(){if(!this.targetId)return!1;D(!az,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return az=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{az=!1}}isOver(a){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,a)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(a){this.targetId=null,this.internalMonitor=a.getMonitor()}}function aB(a,b,c,d){let e=c?c.call(d,a,b):void 0;if(void 0!==e)return!!e;if(a===b)return!0;if("object"!=typeof a||!a||"object"!=typeof b||!b)return!1;let f=Object.keys(a),g=Object.keys(b);if(f.length!==g.length)return!1;let h=Object.prototype.hasOwnProperty.bind(b);for(let g=0;g<f.length;g++){let i=f[g];if(!h(i))return!1;let j=a[i],k=b[i];if(!1===(e=c?c.call(d,j,k,i):void 0)||void 0===e&&j!==k)return!1}return!0}function aC(a){return null!==a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function aD(a){let b={};return Object.keys(a).forEach(c=>{let d=a[c];if(c.endsWith("Ref"))b[c]=a[c];else{let a=(a=null,b=null)=>(0,h.isValidElement)(a)?(!function(a){if("string"==typeof a.type)return;let b=a.type.displayName||a.type.name||"the component";throw Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${b} into a <div>, or turn it into a drag source or a drop target itself.`)}(a),function(a,b){let c=a.ref;return(D("string"!=typeof c,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),c)?(0,h.cloneElement)(a,{ref:a=>{aE(c,a),aE(b,a)}}):(0,h.cloneElement)(a,{ref:b})}(a,b?a=>d(a,b):d)):(d(a,b),a);b[c]=()=>a}}),b}function aE(a,b){"function"==typeof a?a(b):a.current=b}class aF{receiveHandlerId(a){this.handlerId!==a&&(this.handlerId=a,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(a){this.dragSourceOptionsInternal=a}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(a){this.dragPreviewOptionsInternal=a}reconnect(){let a=this.reconnectDragSource();this.reconnectDragPreview(a)}reconnectDragSource(){let a=this.dragSource,b=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return b&&this.disconnectDragSource(),this.handlerId&&(a?b&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=a,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,a,this.dragSourceOptions)):this.lastConnectedDragSource=a),b}reconnectDragPreview(a=!1){let b=this.dragPreview,c=a||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(c&&this.disconnectDragPreview(),this.handlerId){if(!b){this.lastConnectedDragPreview=b;return}c&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=b,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,b,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!aB(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!aB(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(a){this.hooks=aD({dragSource:(a,b)=>{this.clearDragSource(),this.dragSourceOptions=b||null,aC(a)?this.dragSourceRef=a:this.dragSourceNode=a,this.reconnectDragSource()},dragPreview:(a,b)=>{this.clearDragPreview(),this.dragPreviewOptions=b||null,aC(a)?this.dragPreviewRef=a:this.dragPreviewNode=a,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=a}}class aG{get connectTarget(){return this.dropTarget}reconnect(){let a=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();a&&this.disconnectDropTarget();let b=this.dropTarget;if(this.handlerId){if(!b){this.lastConnectedDropTarget=b;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=b,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,b,this.dropTargetOptions))}}receiveHandlerId(a){a!==this.handlerId&&(this.handlerId=a,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(a){this.dropTargetOptionsInternal=a}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!aB(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(a){this.hooks=aD({dropTarget:(a,b)=>{this.clearDropTarget(),this.dropTargetOptions=b,aC(a)?this.dropTargetRef=a:this.dropTargetNode=a,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=a}}function aH(){let{dragDropManager:a}=(0,h.useContext)(y);return D(null!=a,"Expected drag drop context"),a}class aI{beginDrag(){let a=this.spec,b=this.monitor,c=null;return null!=(c="object"==typeof a.item?a.item:"function"==typeof a.item?a.item(b):{})?c:null}canDrag(){let a=this.spec,b=this.monitor;return"boolean"==typeof a.canDrag?a.canDrag:"function"!=typeof a.canDrag||a.canDrag(b)}isDragging(a,b){let c=this.spec,d=this.monitor,{isDragging:e}=c;return e?e(d):b===a.getSourceId()}endDrag(){let a=this.spec,b=this.monitor,c=this.connector,{end:d}=a;d&&d(b.getItem(),b),c.reconnect()}constructor(a,b,c){this.spec=a,this.monitor=b,this.connector=c}}class aJ{canDrop(){let a=this.spec,b=this.monitor;return!a.canDrop||a.canDrop(b.getItem(),b)}hover(){let a=this.spec,b=this.monitor;a.hover&&a.hover(b.getItem(),b)}drop(){let a=this.spec,b=this.monitor;if(a.drop)return a.drop(b.getItem(),b)}constructor(a,b){this.spec=a,this.monitor=b}}function aK(a){let b=null;return()=>(null==b&&(b=a()),b)}class aL{enter(a){let b=this.entered.length;return this.entered=function(a,b){let c=new Set,d=a=>c.add(a);a.forEach(d),b.forEach(d);let e=[];return c.forEach(a=>e.push(a)),e}(this.entered.filter(b=>this.isNodeInDocument(b)&&(!b.contains||b.contains(a))),[a]),0===b&&this.entered.length>0}leave(a){var b;let c=this.entered.length;return this.entered=(b=this.entered.filter(this.isNodeInDocument),b.filter(b=>b!==a)),c>0&&0===this.entered.length}reset(){this.entered=[]}constructor(a){this.entered=[],this.isNodeInDocument=a}}class aM{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(a=>{Object.defineProperty(this.item,a,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${a}" until the drop event.`),null)})})}loadDataTransfer(a){if(a){let b={};Object.keys(this.config.exposeProperties).forEach(c=>{let d=this.config.exposeProperties[c];null!=d&&(b[c]={value:d(a,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,b)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(a,b){return b===a.getSourceId()}endDrag(){}constructor(a){this.config=a,this.item={},this.initializeExposedProperties()}}let aN="__NATIVE_FILE__",aO="__NATIVE_URL__",aP="__NATIVE_TEXT__",aQ="__NATIVE_HTML__";var aR=Object.freeze({__proto__:null,FILE:aN,HTML:aQ,TEXT:aP,URL:aO});function aS(a,b,c){let d=b.reduce((b,c)=>b||a.getData(c),"");return null!=d?d:c}let aT={[aN]:{exposeProperties:{files:a=>Array.prototype.slice.call(a.files),items:a=>a.items,dataTransfer:a=>a},matchesTypes:["Files"]},[aQ]:{exposeProperties:{html:(a,b)=>aS(a,b,""),dataTransfer:a=>a},matchesTypes:["Html","text/html"]},[aO]:{exposeProperties:{urls:(a,b)=>aS(a,b,"").split("\n"),dataTransfer:a=>a},matchesTypes:["Url","text/uri-list"]},[aP]:{exposeProperties:{text:(a,b)=>aS(a,b,""),dataTransfer:a=>a},matchesTypes:["Text","text/plain"]}};function aU(a){if(!a)return null;let b=Array.prototype.slice.call(a.types||[]);return Object.keys(aT).filter(a=>{let c=aT[a];return!!(null==c?void 0:c.matchesTypes)&&c.matchesTypes.some(a=>b.indexOf(a)>-1)})[0]||null}let aV=aK(()=>/firefox/i.test(navigator.userAgent)),aW=aK(()=>!!window.safari);class aX{interpolate(a){let b,{xs:c,ys:d,c1s:e,c2s:f,c3s:g}=this,h=c.length-1;if(a===c[h])return d[h];let i=0,j=g.length-1;for(;i<=j;){let e=c[b=Math.floor(.5*(i+j))];if(e<a)i=b+1;else{if(!(e>a))return d[b];j=b-1}}let k=a-c[h=Math.max(0,j)],l=k*k;return d[h]+e[h]*k+f[h]*l+g[h]*k*l}constructor(a,b){let c,d,e,{length:f}=a,g=[];for(let a=0;a<f;a++)g.push(a);g.sort((b,c)=>a[b]<a[c]?-1:1);let h=[],i=[];for(let e=0;e<f-1;e++)c=a[e+1]-a[e],d=b[e+1]-b[e],h.push(c),i.push(d/c);let j=[i[0]];for(let a=0;a<h.length-1;a++){let b=i[a],d=i[a+1];if(b*d<=0)j.push(0);else{c=h[a];let e=h[a+1],f=c+e;j.push(3*f/((f+e)/b+(f+c)/d))}}j.push(i[i.length-1]);let k=[],l=[];for(let a=0;a<j.length-1;a++){e=i[a];let b=j[a],c=1/h[a],d=b+j[a+1]-e-e;k.push((e-b-d)*c),l.push(d*c*c)}this.xs=a,this.ys=b,this.c1s=j,this.c2s=k,this.c3s=l}}function aY(a){let b=1===a.nodeType?a:a.parentElement;if(!b)return null;let{top:c,left:d}=b.getBoundingClientRect();return{x:d,y:c}}function aZ(a){return{x:a.clientX,y:a.clientY}}let a$=class{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var a;return(null==(a=this.globalContext)?void 0:a.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var a;return(null==(a=this.optionsArgs)?void 0:a.rootElement)||this.window}constructor(a,b){this.ownerDocument=null,this.globalContext=a,this.optionsArgs=b}};function a_(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}class a0{profile(){var a,b;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null==(a=this.dragStartSourceIds)?void 0:a.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null==(b=this.dragOverTargetIds)?void 0:b.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let a=this.rootElement;if(void 0!==a){if(a.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");a.__isReactDndBackendSetUp=!0,this.addEventListeners(a)}}teardown(){let a=this.rootElement;if(void 0!==a&&(a.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var b;null==(b=this.window)||b.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(a,b,c){return this.sourcePreviewNodeOptions.set(a,c),this.sourcePreviewNodes.set(a,b),()=>{this.sourcePreviewNodes.delete(a),this.sourcePreviewNodeOptions.delete(a)}}connectDragSource(a,b,c){this.sourceNodes.set(a,b),this.sourceNodeOptions.set(a,c);let d=b=>this.handleDragStart(b,a),e=a=>this.handleSelectStart(a);return b.setAttribute("draggable","true"),b.addEventListener("dragstart",d),b.addEventListener("selectstart",e),()=>{this.sourceNodes.delete(a),this.sourceNodeOptions.delete(a),b.removeEventListener("dragstart",d),b.removeEventListener("selectstart",e),b.setAttribute("draggable","false")}}connectDropTarget(a,b){let c=b=>this.handleDragEnter(b,a),d=b=>this.handleDragOver(b,a),e=b=>this.handleDrop(b,a);return b.addEventListener("dragenter",c),b.addEventListener("dragover",d),b.addEventListener("drop",e),()=>{b.removeEventListener("dragenter",c),b.removeEventListener("dragover",d),b.removeEventListener("drop",e)}}addEventListeners(a){a.addEventListener&&(a.addEventListener("dragstart",this.handleTopDragStart),a.addEventListener("dragstart",this.handleTopDragStartCapture,!0),a.addEventListener("dragend",this.handleTopDragEndCapture,!0),a.addEventListener("dragenter",this.handleTopDragEnter),a.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),a.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),a.addEventListener("dragover",this.handleTopDragOver),a.addEventListener("dragover",this.handleTopDragOverCapture,!0),a.addEventListener("drop",this.handleTopDrop),a.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(a){a.removeEventListener&&(a.removeEventListener("dragstart",this.handleTopDragStart),a.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),a.removeEventListener("dragend",this.handleTopDragEndCapture,!0),a.removeEventListener("dragenter",this.handleTopDragEnter),a.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),a.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),a.removeEventListener("dragover",this.handleTopDragOver),a.removeEventListener("dragover",this.handleTopDragOverCapture,!0),a.removeEventListener("drop",this.handleTopDrop),a.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let a=this.monitor.getSourceId(),b=this.sourceNodeOptions.get(a);return a_({dropEffect:this.altKeyPressed?"copy":"move"},b||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let a=this.monitor.getSourceId();return a_({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(a)||{})}isDraggingNativeItem(){let a=this.monitor.getItemType();return Object.keys(aR).some(b=>aR[b]===a)}beginDragNativeItem(a,b){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(a,b){let c=aT[a];if(!c)throw Error(`native type ${a} has no configuration`);let d=new aM(c);return d.loadDataTransfer(b),d}(a,b),this.currentNativeHandle=this.registry.addSource(a,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(a){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=a,this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return null==(a=this.rootElement)?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var a;null==(a=this.window)||a.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(a,b){a.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(b))}handleDragEnter(a,b){this.dragEnterTargetIds.unshift(b)}handleDragOver(a,b){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(b)}handleDrop(a,b){this.dropTargetIds.unshift(b)}constructor(a,b,c){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{let b=this.sourceNodes.get(a);return b&&aY(b)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{let a=this.currentDragSourceNode;null==a||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;let{dragStartSourceIds:b}=this;this.dragStartSourceIds=null;let c=aZ(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(b||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:c});let{dataTransfer:d}=a,e=aU(d);if(this.monitor.isDragging()){if(d&&"function"==typeof d.setDragImage){let a=this.monitor.getSourceId(),b=this.sourceNodes.get(a),e=this.sourcePreviewNodes.get(a)||b;if(e){let{anchorX:a,anchorY:f,offsetX:g,offsetY:h}=this.getCurrentSourcePreviewNodeOptions(),i=function(a,b,c,d,e){var f;let g,h,i,j="IMG"===b.nodeName&&(aV()||!(null==(f=document.documentElement)?void 0:f.contains(b))),k=aY(j?a:b),l={x:c.x-k.x,y:c.y-k.y},{offsetWidth:m,offsetHeight:n}=a,{anchorX:o,anchorY:p}=d,{dragPreviewWidth:q,dragPreviewHeight:r}=(g=j?b.width:m,h=j?b.height:n,aW()&&j&&(h/=window.devicePixelRatio,g/=window.devicePixelRatio),{dragPreviewWidth:g,dragPreviewHeight:h}),{offsetX:s,offsetY:t}=e;return{x:0===s||s?s:new aX([0,.5,1],[l.x,l.x/m*q,l.x+q-m]).interpolate(o),y:0===t||t?t:(i=new aX([0,.5,1],[l.y,l.y/n*r,l.y+r-n]).interpolate(p),aW()&&j&&(i+=(window.devicePixelRatio-1)*r),i)}}(b,e,c,{anchorX:a,anchorY:f},{offsetX:g,offsetY:h});d.setDragImage(e,i.x,i.y)}}try{null==d||d.setData("application/json",{})}catch(a){}this.setCurrentDragSourceNode(a.target);let{captureDraggingState:b}=this.getCurrentSourcePreviewNodeOptions();b?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(e)this.beginDragNativeItem(e);else{if(d&&!d.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var b;null==(b=this.currentNativeSource)||b.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;let{dataTransfer:c}=a,d=aU(c);d&&this.beginDragNativeItem(d,c)},this.handleTopDragEnter=a=>{let{dragEnterTargetIds:b}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=a.altKey,b.length>0&&this.actions.hover(b,{clientOffset:aZ(a)}),b.some(a=>this.monitor.canDropOnTarget(a))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var b;null==(b=this.currentNativeSource)||b.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{let{dragOverTargetIds:b}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=aZ(a),this.scheduleHover(b),(b||[]).some(a=>this.monitor.canDropOnTarget(a))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var b;a.preventDefault(),null==(b=this.currentNativeSource)||b.loadDataTransfer(a.dataTransfer)}else aU(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{let{dropTargetIds:b}=this;this.dropTargetIds=[],this.actions.hover(b,{clientOffset:aZ(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{let b=a.target;"function"==typeof b.dragDrop&&("INPUT"===b.tagName||"SELECT"===b.tagName||"TEXTAREA"===b.tagName||b.isContentEditable||(a.preventDefault(),b.dragDrop()))},this.options=new a$(b,c),this.actions=a.getActions(),this.monitor=a.getMonitor(),this.registry=a.getRegistry(),this.enterLeaveCounter=new aL(this.isNodeInDocument)}}let a1=function(a,b,c){return new a0(a,b,c)};function a2({isPremovedPiece:a=!1,piece:b,square:c,squares:e}){let{animationDuration:f,arePiecesDraggable:i,boardWidth:j,boardOrientation:k,chessPieces:l,currentPosition:m,deletePieceFromSquare:n,dropOffBoardAction:o,id:p,isDraggablePiece:q,isWaitingForAnimation:r,onPieceClick:s,onPieceDragBegin:u,onPieceDragEnd:v,onPieceDropOffBoard:w,onPromotionCheck:x,positionDifferences:y}=t(),[z,A]=(0,h.useState)({opacity:1,zIndex:5,touchAction:"none",cursor:i&&q({piece:b,sourceSquare:c})?"-webkit-grab":"default"}),[{canDrag:B,isDragging:C},E,F]=function(a,b){let c=av(a,b);D(!c.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let d=function(){let a=aH();return(0,h.useMemo)(()=>new ay(a),[a])}(),e=function(a,b){let c=aH(),d=(0,h.useMemo)(()=>new aF(c.getBackend()),[c]);return as(()=>(d.dragSourceOptions=a||null,d.reconnect(),()=>d.disconnectDragSource()),[d,a]),as(()=>(d.dragPreviewOptions=b||null,d.reconnect(),()=>d.disconnectDragPreview()),[d,b]),d}(c.options,c.previewOptions),f=aH(),g=function(a,b,c){let d=(0,h.useMemo)(()=>new aI(a,b,c),[b,c]);return(0,h.useEffect)(()=>{d.spec=a},[a]),d}(c,d,e),i=(0,h.useMemo)(()=>{let a=c.type;return D(null!=a,"spec.type must be defined"),a},[c]);return as(function(){if(null!=i){let[a,b]=function(a,b,c){let d=c.getRegistry(),e=d.addSource(a,b);return[e,()=>d.removeSource(e)]}(i,g,f);return d.receiveHandlerId(a),e.receiveHandlerId(a),b}},[f,d,e,g,i]),[au(c.collect,d,e),(0,h.useMemo)(()=>e.hooks.dragSource(),[e]),(0,h.useMemo)(()=>e.hooks.dragPreview(),[e])]}(()=>({type:"piece",item:()=>(u(b,c),{piece:b,square:c,id:p}),end:(a,d)=>{v(b,c),d.didDrop()||("trash"===o&&n(c),null==w||w(c,b))},collect:a=>({canDrag:q({piece:b,sourceSquare:c}),isDragging:!!a.isDragging()})}),[b,c,m,p]);return F((d||((d=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),d),{captureDraggingState:!0}),(0,h.useEffect)(()=>{A(a=>Object.assign(Object.assign({},a),{opacity:+!C}))},[C]),(0,h.useEffect)(()=>{var b;let d=null==(b=y.removed)?void 0:b[c];if(!y.added||!d)return;let e=Object.entries(y.added).find(([a,b])=>b===d||x(c,a,d));if(r&&d&&e&&!a){let a=e[0];if(c&&a){let b=j/8;A(d=>Object.assign(Object.assign({},d),{transform:`translate(${("black"===k?-1:1)*(a.charCodeAt(0)-c.charCodeAt(0))*b}px, ${("black"===k?-1:1)*(Number(c[1])-Number(a[1]))*b}px)`,transition:`transform ${f}ms`,zIndex:6}))}}},[y]),(0,h.useEffect)(()=>{let{sourceSq:a}={sourceSq:e[c]};a&&A(a=>Object.assign(Object.assign({},a),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[m]),(0,h.useEffect)(()=>{A(a=>Object.assign(Object.assign({},a),{cursor:i&&q({piece:b,sourceSquare:c})?"-webkit-grab":"default"}))},[c,m,i]),(0,g.jsx)("div",Object.assign({ref:i&&B?E:null,onClick:()=>s(b,c),"data-piece":b,style:z},{children:"function"==typeof l[b]?l[b]({squareWidth:j/8,isDragging:C,square:c}):(0,g.jsx)("svg",Object.assign({viewBox:"1 1 43 43",width:j/8,height:j/8,style:{display:"block"}},{children:(0,g.jsx)("g",{children:l[b]})}))}))}function a3({square:a,squareColor:b,setSquares:c,squareHasPremove:d,children:e}){let f=(0,h.useRef)(null),{autoPromoteToQueen:i,boardWidth:j,boardOrientation:k,clearArrows:l,currentPosition:m,currentRightClickDown:n,customBoardStyle:o,customDarkSquareStyle:p,customDropSquareStyle:q,customLightSquareStyle:r,customPremoveDarkSquareStyle:s,customPremoveLightSquareStyle:u,customSquare:v,customSquareStyles:w,drawNewArrow:x,handleSetPosition:y,handleSparePieceDrop:z,isWaitingForAnimation:A,lastPieceColour:B,lastSquareDraggedOver:C,onArrowDrawEnd:E,onDragOverSquare:F,onMouseOutSquare:G,onMouseOverSquare:H,onPieceDrop:I,onPromotionCheck:J,onRightClickDown:K,onRightClickUp:L,onSquareClick:M,setLastSquareDraggedOver:N,setPromoteFromSquare:O,setPromoteToSquare:P,setShowPromoteDialog:Q}=t(),[{isOver:R},S]=function(a,b){let c=av(a,b),d=function(){let a=aH();return(0,h.useMemo)(()=>new aA(a),[a])}(),e=function(a){let b=aH(),c=(0,h.useMemo)(()=>new aG(b.getBackend()),[b]);return as(()=>(c.dropTargetOptions=a||null,c.reconnect(),()=>c.disconnectDropTarget()),[a]),c}(c.options),f=aH(),g=function(a,b){let c=(0,h.useMemo)(()=>new aJ(a,b),[b]);return(0,h.useEffect)(()=>{c.spec=a},[a]),c}(c,d),i=function(a){let{accept:b}=a;return(0,h.useMemo)(()=>(D(null!=a.accept,"accept must be defined"),Array.isArray(b)?b:[b]),[b])}(c);return as(function(){let[a,b]=function(a,b,c){let d=c.getRegistry(),e=d.addTarget(a,b);return[e,()=>d.removeTarget(e)]}(i,g,f);return d.receiveHandlerId(a),e.receiveHandlerId(a),b},[f,d,g,e,i.map(a=>a.toString()).join("|")]),[au(c.collect,d,e),(0,h.useMemo)(()=>e.hooks.dropTarget(),[e])]}(()=>({accept:"piece",drop:T,collect:a=>({isOver:!!a.isOver()})}),[a,m,I,A,B]);function T(b){if(b.isSpare)return void z(b.piece,a);J(b.square,a,b.piece)?i?y(b.square,a,"w"===b.piece[0]?"wQ":"bQ"):(O(b.square),P(a),Q(!0)):y(b.square,a,b.piece,!0)}(0,h.useEffect)(()=>{if(f.current){let{x:b,y:d}=f.current.getBoundingClientRect();c(c=>Object.assign(Object.assign({},c),{[a]:{x:b,y:d}}))}},[j,k]);let U=Object.assign(Object.assign(Object.assign(Object.assign({},a6(a,k,o)),"black"===b?p:r),d&&("black"===b?s:u)),R&&q);return(0,g.jsx)("div",Object.assign({ref:S,style:U,"data-square-color":b,"data-square":a,onTouchMove:a=>{var b;let c=a.touches[0],d=document.elementsFromPoint(c.clientX,c.clientY),e=null==(b=null==d?void 0:d.find(a=>a.getAttribute("data-square")))?void 0:b.getAttribute("data-square");e&&e!==C&&(N(e),F(e))},onMouseOver:b=>{2===b.buttons&&n&&x(n,a),b.relatedTarget&&b.currentTarget.contains(b.relatedTarget)||H(a)},onMouseOut:b=>{b.relatedTarget&&b.currentTarget.contains(b.relatedTarget)||G(a)},onMouseDown:b=>{2===b.button&&K(a)},onMouseUp:b=>{2===b.button&&(n&&E(n,a),L(a))},onDragEnter:()=>F(a),onClick:()=>{let b=m[a];M(a,b),l()},onContextMenu:a=>{a.preventDefault()}},{children:"string"==typeof v?(0,g.jsx)(v,Object.assign({ref:f,style:Object.assign(Object.assign(Object.assign({},a5(j)),a4),!d&&(null==w?void 0:w[a]))},{children:e})):(0,g.jsx)(v,Object.assign({ref:f,square:a,squareColor:b,style:Object.assign(Object.assign(Object.assign({},a5(j)),a4),!d&&(null==w?void 0:w[a]))},{children:e}))}))}let a4={display:"flex",justifyContent:"center"},a5=a=>({width:a/8,height:a/8}),a6=(a,b,c)=>(null==c?void 0:c.borderRadius)?"a1"===a?"white"===b?{borderBottomLeftRadius:c.borderRadius}:{borderTopRightRadius:c.borderRadius}:"a8"===a?"white"===b?{borderTopLeftRadius:c.borderRadius}:{borderBottomRightRadius:c.borderRadius}:"h1"===a?"white"===b?{borderBottomRightRadius:c.borderRadius}:{borderTopLeftRadius:c.borderRadius}:"h8"===a?"white"===b?{borderTopRightRadius:c.borderRadius}:{borderBottomLeftRadius:c.borderRadius}:{}:{};function a7(){let[a,b]=(0,h.useState)({}),{arePremovesAllowed:c,boardOrientation:d,boardWidth:e,currentPosition:f,id:j,premoves:k,showBoardNotation:l}=t(),m=(0,h.useMemo)(()=>{let a=[];return c?(k.forEach((b,c)=>{let{sourceSq:d,targetSq:e,piece:f}=b,g=a.find(a=>{var b;return a.piece===f&&(null==(b=a.premovesRoute.at(-1))?void 0:b.targetSq)===d});g?g.premovesRoute.push({sourceSq:d,targetSq:e,index:c}):a.push({piece:f,premovesRoute:[{sourceSq:d,targetSq:e,index:c}]})}),a):[]},[k]);return(0,g.jsx)("div",Object.assign({"data-boardid":j},{children:[...Array(8)].map((c,h)=>(0,g.jsx)("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:e}},{children:[...Array(8)].map((c,e)=>{let j="black"===d?i[7-e]+(h+1):i[e]+(8-h),n=e%2==h%2?"white":"black",o=k.find(a=>a.sourceSq===j||a.targetSq===j),p=m.filter(({premovesRoute:a})=>{var b;return(null==(b=a.at(-1))?void 0:b.targetSq)===j}).sort((a,b)=>{var c,d;return(null==(c=b.premovesRoute.at(-1))?void 0:c.index)-(null==(d=a.premovesRoute.at(-1))?void 0:d.index)}).at(0);return(0,g.jsxs)(a3,Object.assign({square:j,squareColor:n,setSquares:b,squareHasPremove:!!o},{children:[!o&&f[j]&&(0,g.jsx)(a2,{piece:f[j],square:j,squares:a}),p&&(0,g.jsx)(a2,{isPremovedPiece:!0,piece:p.piece,square:j,squares:a}),l&&(0,g.jsx)(v,{row:h,col:e})]}),`${e}${h}`)})}),h.toString()))}))}let a8=()=>{let{arrows:a,newArrow:b,boardOrientation:c,boardWidth:d,customArrowColor:e}=t(),f=[...a,b].filter(Boolean);return(0,g.jsx)("svg",Object.assign({width:d,height:d,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:f.map((b,f)=>{let[i,j,k]=b;if(i===j)return null;let l=p(c,d,i),m=p(c,d,j),n=d/32,o=f===a.length;a.some(a=>a[0]!==i&&a[1]===j)&&!o&&(n=d/16);let q=m.x-l.x,r=m.y-l.y,s=Math.hypot(r,q),t={x:l.x+q*(s-n)/s,y:l.y+r*(s-n)/s};return(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("marker",Object.assign({id:`arrowhead-${f}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:(0,g.jsx)("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:null!=k?k:e})})),(0,g.jsx)("line",{x1:l.x,y1:l.y,x2:t.x,y2:t.y,opacity:o?"0.5":"0.65",stroke:null!=k?k:e,strokeWidth:o?.9*d/40:d/40,markerEnd:`url(#arrowhead-${f})`})]},`${i}-${j}${o?"-active":""}`)})}))};function a9({option:a}){let[b,c]=(0,h.useState)(!1),{boardWidth:d,chessPieces:e,customDarkSquareStyle:f,customLightSquareStyle:i,handleSetPosition:j,onPromotionPieceSelect:k,promoteFromSquare:l,promoteToSquare:m,promotionDialogVariant:n}=t(),o=()=>{switch(a[1]){case"Q":return f.backgroundColor;case"R":return i.backgroundColor;case"N":return"default"===n?i.backgroundColor:f.backgroundColor;case"B":return"default"===n?f.backgroundColor:i.backgroundColor}};return(0,g.jsx)("div",Object.assign({onClick:()=>{k(a,null!=l?l:void 0,null!=m?m:void 0)&&j(l,m,a,!0)},onMouseOver:()=>c(!0),onMouseOut:()=>c(!1),"data-piece":a,style:{cursor:"pointer",backgroundColor:b?o():`${o()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:"function"==typeof e[a]?(0,g.jsx)("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:b?"scale(1)":"scale(0.85)"}},{children:e[a]({squareWidth:d/8,isDragging:!1})})):(0,g.jsx)("svg",Object.assign({viewBox:"1 1 43 43",width:d/8,height:d/8,style:{transition:"all 0.1s ease-out",transform:b?"scale(1)":"scale(0.85)"}},{children:(0,g.jsx)("g",{children:e[a]})}))}))}function ba(){let{boardOrientation:a,boardWidth:b,promotionDialogVariant:c,promoteToSquare:d}=t(),e=(null==d?void 0:d[1])==="1"?"b":"w",f=[`${null!=e?e:"w"}Q`,`${null!=e?e:"w"}R`,`${null!=e?e:"w"}N`,`${null!=e?e:"w"}B`],h={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-b/8}px, ${-b/8}px)`},vertical:{transform:`translate(${-b/16}px, ${-b/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*b/8}px)`,width:"100%",height:`${b/4}px`,top:0,backgroundColor:"white",left:0}},i=p(a,b,d||"a8");return(0,g.jsx)("div",Object.assign({style:Object.assign({position:"absolute",top:`${null==i?void 0:i.y}px`,left:`${null==i?void 0:i.x}px`,zIndex:1e3},h[c]),title:"Choose promotion piece"},{children:f.map(a=>(0,g.jsx)(a9,{option:a},a))}))}let bb={whiteKing:(0,g.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:(0,g.jsx)("g",{children:(0,g.jsx)("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function bc({children:a}){try{return(0,g.jsx)(g.Fragment,{children:a})}catch(a){return console.log(a),(0,g.jsx)(bd,{showError:!0})}}function bd({showError:a=!1}){return(0,g.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[(0,g.jsx)("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:bb.whiteKing})),a&&(0,g.jsx)("h1",{children:"Something went wrong"})]}))}function be(){let a=(0,h.useRef)(null),{boardWidth:b,clearCurrentRightClickDown:c,onPromotionPieceSelect:d,setShowPromoteDialog:e,showPromoteDialog:f,customBoardStyle:i}=t();return(0,h.useEffect)(()=>{function b(b){a.current&&!a.current.contains(b.target)&&c()}return document.addEventListener("mouseup",b),()=>{document.removeEventListener("mouseup",b)}},[]),b?(0,g.jsx)("div",Object.assign({style:{perspective:"1000px"}},{children:(0,g.jsxs)("div",Object.assign({ref:a,style:Object.assign(Object.assign({position:"relative"},bf(b)),i)},{children:[(0,g.jsx)(a7,{}),(0,g.jsx)(a8,{}),f&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{onClick:()=>{e(!1),null==d||d()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:b,height:b}}),(0,g.jsx)(ba,{})]})]}))})):(0,g.jsx)(bd,{})}let bf=a=>({cursor:"default",height:a,width:a});!function(a){a.mouse="mouse",a.touch="touch",a.keyboard="keyboard"}(f||(f={}));class bg{get delay(){var a;return null!=(a=this.args.delay)?a:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var a;return null!=(a=this.args.ignoreContextMenu)&&a}get enableHoverOutsideTarget(){var a;return null!=(a=this.args.enableHoverOutsideTarget)&&a}get enableKeyboardEvents(){var a;return null!=(a=this.args.enableKeyboardEvents)&&a}get enableMouseEvents(){var a;return null!=(a=this.args.enableMouseEvents)&&a}get enableTouchEvents(){var a;return null==(a=this.args.enableTouchEvents)||a}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var a,b,c,d;return null!=(d=null!=(c=null==(a=this.args)?void 0:a.delayTouchStart)?c:null==(b=this.args)?void 0:b.delay)?d:0}get delayMouseStart(){var a,b,c,d;return null!=(d=null!=(c=null==(a=this.args)?void 0:a.delayMouseStart)?c:null==(b=this.args)?void 0:b.delay)?d:0}get window(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}get document(){var a;return(null==(a=this.context)?void 0:a.document)?this.context.document:this.window?this.window.document:void 0}get rootElement(){var a;return(null==(a=this.args)?void 0:a.rootElement)||this.document}constructor(a,b){this.args=a,this.context=b}}let bh={Left:1},bi={Left:0};function bj(a){return void 0===a.button||a.button===bi.Left}function bk(a){return!!a.targetTouches}function bl(a,b){return bk(a)?1===a.targetTouches.length?bl(a.targetTouches[0]):b&&1===a.touches.length&&a.touches[0].target===b.target?bl(a.touches[0]):void 0:{x:a.clientX,y:a.clientY}}let bm=(()=>{let a=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get:()=>(a=!0,!0)}))}catch(a){}return a})(),bn={[f.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[f.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[f.keyboard]:{keydown:"keydown"}};class bo{profile(){var a;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null==(a=this.dragOverTargetIds)?void 0:a.length)||0}}get document(){return this.options.document}setup(){let a=this.options.rootElement;a&&(D(!bo.isSetUp,"Cannot have two Touch backends at the same time."),bo.isSetUp=!0,this.addEventListener(a,"start",this.getTopMoveStartHandler()),this.addEventListener(a,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(a,"move",this.handleTopMove),this.addEventListener(a,"move",this.handleTopMoveCapture,!0),this.addEventListener(a,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(a,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(a,"keydown",this.handleCancelOnEscape,!0))}teardown(){let a=this.options.rootElement;a&&(bo.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(a,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(a,"start",this.handleTopMoveStart),this.removeEventListener(a,"move",this.handleTopMoveCapture,!0),this.removeEventListener(a,"move",this.handleTopMove),this.removeEventListener(a,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(a,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(a,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(a,b,c,d=!1){let e=bm?{capture:d,passive:!1}:d;this.listenerTypes.forEach(function(d){let f=bn[d][b];f&&a.addEventListener(f,c,e)})}removeEventListener(a,b,c,d=!1){let e=bm?{capture:d,passive:!1}:d;this.listenerTypes.forEach(function(d){let f=bn[d][b];f&&a.removeEventListener(f,c,e)})}connectDragSource(a,b){let c=this.handleMoveStart.bind(this,a);return this.sourceNodes.set(a,b),this.addEventListener(b,"start",c),()=>{this.sourceNodes.delete(a),this.removeEventListener(b,"start",c)}}connectDragPreview(a,b,c){return this.sourcePreviewNodeOptions.set(a,c),this.sourcePreviewNodes.set(a,b),()=>{this.sourcePreviewNodes.delete(a),this.sourcePreviewNodeOptions.delete(a)}}connectDropTarget(a,b){let c=this.options.rootElement;if(!this.document||!c)return()=>{};let d=d=>{let e;if(!this.document||!c||!this.monitor.isDragging())return;switch(d.type){case bn.mouse.move:e={x:d.clientX,y:d.clientY};break;case bn.touch.move:var f,g;e={x:(null==(f=d.touches[0])?void 0:f.clientX)||0,y:(null==(g=d.touches[0])?void 0:g.clientY)||0}}let h=null!=e?this.document.elementFromPoint(e.x,e.y):void 0,i=h&&b.contains(h);if(h===b||i)return this.handleMove(d,a)};return this.addEventListener(this.document.body,"move",d),this.targetNodes.set(a,b),()=>{this.document&&(this.targetNodes.delete(a),this.removeEventListener(this.document.body,"move",d))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(a){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=a,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{a&&!a.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),a&&a.parentElement&&this.draggedSourceNodeRemovalObserver.observe(a.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(a,b,c){this.getSourceClientOffset=a=>{let b=this.sourceNodes.get(a);return b&&function(a){let b=1===a.nodeType?a:a.parentElement;if(!b)return;let{top:c,left:d}=b.getBoundingClientRect();return{x:d,y:c}}(b)},this.handleTopMoveStartCapture=a=>{bj(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!bj(a))return;let b=bl(a);b&&(bk(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=b),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!bj(a))return;let b=a.type===bn.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),b),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,b)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(b)},this.handleTopMove=a=>{var b,c;if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;let{moveStartSourceIds:d,dragOverTargetIds:e}=this,f=this.options.enableHoverOutsideTarget,g=bl(a,this.lastTargetTouchFallback);if(!g)return;if(this._isScrolling||!this.monitor.isDragging()&&function(a,b,c,d,e){if(!e)return!1;let f=180*Math.atan2(d-b,c-a)/Math.PI+180;for(let a=0;a<e.length;++a){let b=e[a];if(b&&(null==b.start||f>=b.start)&&(null==b.end||f<=b.end))return!0}return!1}(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,g.x,g.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&d&&(b=this._mouseClientOffset.x||0,c=this._mouseClientOffset.y||0,Math.sqrt(Math.pow(Math.abs(g.x-b),2)+Math.pow(Math.abs(g.y-c),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(d,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;let h=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(h),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();let i=(e||[]).map(a=>this.targetNodes.get(a)).filter(a=>!!a),j=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(g.x,g.y,i):this.document.elementsFromPoint(g.x,g.y),k=[];for(let a in j){if(!j.hasOwnProperty(a))continue;let b=j[a];for(null!=b&&k.push(b);b;)(b=b.parentElement)&&-1===k.indexOf(b)&&k.push(b)}let l=k.filter(a=>i.indexOf(a)>-1).map(a=>this._getDropTargetId(a)).filter(a=>!!a).filter((a,b,c)=>c.indexOf(a)===b);if(f)for(let a in this.targetNodes){let b=this.targetNodes.get(a);if(h&&b&&b.contains(h)&&-1===l.indexOf(a)){l.unshift(a);break}}l.reverse(),this.actions.hover(l,{clientOffset:g})},this._getDropTargetId=a=>{let b=this.targetNodes.keys(),c=b.next();for(;!1===c.done;){let d=c.value;if(a===this.targetNodes.get(d))return d;c=b.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,function(a){return void 0===a.buttons||(a.buttons&bh.Left)==0}(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{"Escape"===a.key&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new bg(c,b),this.actions=a.getActions(),this.monitor=a.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(f.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(f.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(f.keyboard)}}let bp=function(a,b={},c={}){return new bo(a,b,c)},bq=(0,h.createContext)({isCustomDndProviderSet:!1}),br=({children:a})=>(0,g.jsx)(g.Fragment,{children:a}),bs=({customDndBackend:a,customDndBackendOptions:b,children:c})=>{let[d,e]=(0,h.useState)(),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(!1),{isCustomDndProviderSet:l}=(0,h.useContext)(bq);return((0,h.useEffect)(()=>{k("ontouchstart"in window),i(!0),e(window)},[]),f)?d?(0,g.jsx)(l?br:ap,Object.assign({backend:a||(j?bp:a1),context:d,options:a?b:void 0},{children:c})):(0,g.jsx)(g.Fragment,{children:c}):null};function bt({boardContainer:a}){let{boardWidth:b,chessPieces:c,id:d,snapToCursor:e,allowDragOutsideBoard:f}=t(),{isDragging:i,item:j,clientOffset:k,sourceClientOffset:l}=function(a){let b=aH().getMonitor(),[c,d]=at(b,a);return(0,h.useEffect)(()=>b.subscribeToOffsetChange(d)),(0,h.useEffect)(()=>b.subscribeToStateChange(d)),c}(a=>({item:a.getItem(),clientOffset:a.getClientOffset(),sourceClientOffset:a.getSourceClientOffset(),isDragging:a.isDragging()})),m=(0,h.useCallback)((c,d)=>{if(!c||!d)return{display:"none"};let{x:g,y:h}=e?c:d,i=b/8/2;if(e&&(g-=i,h-=i),!f){let{left:c,top:d}=a,e=c+b-i,f=d+b-i;g=Math.max(c-i,Math.min(g,e)),h=Math.max(d-i,Math.min(h,f))}let j=`translate(${g}px, ${h}px)`;return{transform:j,WebkitTransform:j,touchAction:"none"}},[b,f,e,a]);return i&&j.id===d?(0,g.jsx)("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:(0,g.jsx)("div",Object.assign({style:m(k,l)},{children:"function"==typeof c[j.piece]?c[j.piece]({squareWidth:b/8,isDragging:!0}):(0,g.jsx)("svg",Object.assign({viewBox:"1 1 43 43",width:b/8,height:b/8},{children:(0,g.jsx)("g",{children:c[j.piece]})}))}))})):null}let bu=(0,h.forwardRef)((a,b)=>{let{customDndBackend:c,customDndBackendOptions:d,onBoardWidthChange:e}=a,f=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}(a,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[i,j]=(0,h.useState)(a.boardWidth),k=(0,h.useRef)(null),l=(0,h.useRef)(null),[m,n]=(0,h.useState)({left:0,top:0}),o=(0,h.useMemo)(()=>{var a;return null==(a=k.current)?void 0:a.getBoundingClientRect()},[k.current]);return(0,h.useEffect)(()=>{i&&(null==e||e(i))},[i]),(0,h.useEffect)(()=>{n({left:(null==o?void 0:o.left)?null==o?void 0:o.left:0,top:(null==o?void 0:o.top)?null==o?void 0:o.top:0})},[o]),(0,h.useEffect)(()=>{var b;if(void 0===a.boardWidth&&(null==(b=k.current)?void 0:b.offsetWidth)){let a=new ResizeObserver(()=>{var a;j(null==(a=k.current)?void 0:a.offsetWidth)});return a.observe(k.current),()=>{a.disconnect()}}},[k.current]),(0,g.jsx)(bc,{children:(0,g.jsxs)("div",Object.assign({ref:l,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[(0,g.jsx)("div",{ref:k,style:{width:"100%"}}),(0,g.jsx)(bs,Object.assign({customDndBackend:c,customDndBackendOptions:d},{children:i&&(0,g.jsxs)(u,Object.assign({boardWidth:i},f,{ref:b},{children:[(0,g.jsx)(bt,{boardContainer:m}),(0,g.jsx)(be,{})]}))}))]}))})})}};